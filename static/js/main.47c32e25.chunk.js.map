{"version":3,"sources":["../../riverscapes-client-auth/dist/auth.style.js","../../../packages/riverscapes-common/dist/util.js","../../../packages/riverscapes-common/dist/misc.js","../../../packages/riverscapes-common/dist/projectHelpers.js","contexts.js","components/Topbar.jsx","components/SearchResults/SearchResult.jsx","components/ProjectDialog.jsx","components/Pagination.jsx","components/SearchResults/SearchResults.jsx","components/SearchResults/SearchResults.connect.js","config.js","components/SearchForm/SearchForm.jsx","components/SearchForm/SearchForm.connect.js","components/ProgramChooser.jsx","components/Footer.jsx","components/App.jsx","themes/index.js","components/App.connect.js","serviceWorker.js","index.js","../../riverscapes-client-auth/dist/CheckemailMsg.js","../../riverscapes-client-auth/dist/index.js","../../riverscapes-client-auth/dist/PasswordHelper.js","../../riverscapes-client-auth/dist/useAuthCommon.js","../../riverscapes-client-auth/dist/ConfirmSignIn.js","../../riverscapes-client-auth/dist/ConfirmSignUp.js","../../riverscapes-client-auth/dist/ForgotPassword.js","../../riverscapes-client-auth/dist/Loading.js","../../riverscapes-client-auth/dist/RequireNewPassword.js","../../riverscapes-client-auth/dist/SignIn.js","../../riverscapes-client-auth/dist/SignUp.js","../../../packages/riverscapes-common/dist/xml.js","../../../packages/riverscapes-common/dist/errors.js","../../../packages/riverscapes-common/dist/api.js","../../riverscapes-client-auth/dist/AuthPhoneNum.js","../../riverscapes-client-auth/dist/VerifyContact.js","../../riverscapes-client-auth/dist/useAuthentication.js","../../../packages/riverscapes-common/dist/index.js","../../riverscapes-client-auth/dist/AuthContainer.js"],"names":["Object","defineProperty","exports","value","default","theme","root","spacer","flexGrow","forgotPassword","width","textAlign","switch","switchButton","borderRadius","phoneNumInner","marginTop","spacing","display","phoneNumDropdown","margin","minWidth","warnText","fontStyle","noSignin","padding","border","background","formatNum","num","precision","precstr","Array","join","isNumeric","_numeral","format","concat","replace","e","clearSelection","document","selection","empty","window","getSelection","removeAllRanges","isObjectWithKeys","obj","_typeof","keys","length","makeDomArray","domnode","Error","isArray","capitalizeFirstLetter","string","charAt","toUpperCase","slice","numericArrayCompare","arr1","arr2","some","el","idx","decodeUnbufferedBase64","hash","missingPadding","newhash","Buffer","from","toString","encodeUnbufferedBase64","str","urlizeb64","isObject","arrToObj","data","newData","target","i","arguments","source","ownKeys","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","getOwnPropertyDescriptor","_objectSpread","keyDat","_","val","$","attr","Number","trim","getRandomArbitraryInt","min","max","parseInt","Math","random","debounce","func","wait","immediate","_this","this","timeout","_len","innerArgs","_key","context","callNow","clearTimeout","setTimeout","apply","padString","padChar","totalLength","padLeft","undefined","pad","repeat","substring","formatTime","t","roundToMultipleOf","round","input","floor","chunkArray","base64toJSON","json2base64","_interopRequireDefault","_zlib","__esModule","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","configurable","writable","Symbol","iterator","constructor","prototype","isNaN","parseFloat","isFinite","x","o","text","Promise","resolve","reject","gzip","JSON","stringify","err","b64String","buff","gunzip","parse","arr","chunkSize","result","_regeneratorRuntime","uploadStream","url","pathAbs","fields","update","formData","file","_fs","createReadStream","highWaterMark","on","params","method","_request","console","log","uploadStr","myStr","downloadStream","_x","_x2","_x3","_downloadStream","_path","asyncGeneratorStep","gen","_next","_throw","arg","info","error","done","then","fn","mark","_callee","downloadPath","dirname","writeStream","wrap","_context","prev","next","existsSync","lstatSync","isDirectory","mkdirSync","recursive","maxContentLength","Infinity","responseType","createWriteStream","abrupt","pipe","stop","self","args","treeIzeFilePaths","loadLocalProjectXML","upDownDiff","_xml","_api","_errors","left","right","different","same","leftOnly","leftFile","found","find","rightFile","md5","map","f","rightOnly","_ref","apiUrl","jwt","projectXMLPath","programObj","filePath","xmlfile","projectfile","retVal","meta","ValidationError","readFileSync","t0","validateProject","machineName","_ref2","errors","validate","xmlErrors","parseProjectXML","sent","_x4","fileSort","currFolder","sort","a","b","children","name","toLowerCase","filePathsArr","fPath","pathArr","split","_loop","folder","shift","path","AppContext","React","createContext","useStyles","makeStyles","alignItems","textShadow","backgroundImage","process","backgroundRepeat","backgroundPosition","backgroundSize","backgroundColor","logo","height","marginRight","programChooser","color","palette","primary","contrastText","borderColor","transparent","search","position","shape","fade","common","white","marginLeft","breakpoints","up","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","transition","transitions","create","sectionDesktop","sectionMobile","TopBar","classes","useContext","program","programs","signOut","navigateProgram","useState","mobileMoreAnchorEl","setMobileMoreAnchorEl","handleMobileMenuClose","renderMobileMenu","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","Typography","variant","prog","disabled","onClick","nm","Divider","Fragment","AppBar","Toolbar","className","classNames","disableGutters","href","src","alt","IconButton","aria-haspopup","event","currentTarget","itemText","mm","prodChip","downloadText","bottom","SearchResult","loading","pendingZips","downloadZipFile","collections","definitions","Collections","ListItem","button","ListItemAvatar","Skeleton","style","ListItemSecondaryAction","edge","mandatoryMeta","pTypeName","projType","pendingSince","id","products","projObj","pr","type","po","def","Avatar","substr","Chip","label","size","mmFound","c","mmItem","Button","startIcon","CircularProgress","thickness","end","component","moment","fromNow","closeButton","top","grey","normalIcon","documentIcon","red","photoIcon","purple","TerrainIcon","green","metaDisplay","flexFlow","title","treeLabel","lineHeight","treeFile","treeFileContent","borderBottom","treeFolder","treeFolderContent","metaDisplayItem","flex","maxWidth","whiteSpace","overflow","textOverflow","CustomizedDialogs","project","downloadFile","iconMapping","pattern","icon","files","reduce","acc","match","classStr","fileTree","projectHelpers","Dialog","fullWidth","DialogTitle","disableTypography","aria-label","DialogContent","dividers","createdOn","updatedOn","metaKey","idk","TreeView","treeRoot","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","ft","keyStr","item","fileDict","fileClick","RecurseTreeItem","childNodes","TreeItem","nodeId","content","lookup","filesize","endIcon","words","nav","numButton","Pagination","searchParams","setSearchParams","startIndex","endIndex","total","nextToken","previousToken","projects","currPage","ceil","limit","totalPages","showJumpNums","fill","noVal","jn","jumpNum","SearchResults","projDialog","setProjDialog","Paper","List","r","idr","ResultsPaneConnect","isLoading","setIsLoading","results","setResults","setErrors","useEffect","api","catch","searchData","doEffect","baseurl","REACT_APP_BASEURL","domain","basename","endpoints","graphql","appDefaults","mandatoryMetaColors","blue","orange","cyan","lime","brown","aws","Auth","region","userPoolId","userPoolWebClientId","mandatorySignIn","cookieStorage","expires","secure","actionBar","projTypeLine","resultsNum","flexShrink","projTypeMenuItem","projTypeMenuItemSelected","projTypeMenuItemName","projTypeMenuItemNum","secondary","fontSize","SearchForm","projTotals","searchParamsTmp","setSearchParamsTmp","advancedVals","setAdvancedVals","projectDict","values","allAdvancedOptions","submitSearch","advancedParams","newParams","newAdvanced","advFinal","k","v","submitParams","metaArr","FormControl","InputLabel","htmlFor","Select","inputProps","onChange","__all","prodName","prodId","TextField","autoFocus","placeholder","textField","onKeyDown","keyCode","metaStr","advanced","row","rid","options","ao","changeHandler","newRow","forceSubmit","iconButton","useStylesAdv","advancedLeft","advancedLeftCustom","advancedLeftOption","advancedText","advancedRight","advancedOp","advancedTextCustomName","advancedTextCustomValue","advancedOpName","advancedOpNamId","advancedInput","AdvancedRow","mKey","mVal","setErr","option","hasSetVals","Allow","debouncedValidate","util","allowRegex","AllowRegex","errs","regex","RegExp","handleKeyPress","oid","defaultValue","SearchFormConnect","setProjTotals","projTotalsRef","useRef","current","promiseChain","projId","ProgramChooser","elevation","p","divider","ListItemText","Footer","Container","flexDirection","inner","overflowX","overflowY","App","CssBaseline","Topbar","home","main","typography","useNextVariants","createMuiTheme","AppConnect","location","history","setProgram","setPrograms","setPendingZips","pendingZipsRef","useAuthentication","signedIn","authData","authScreen","reset","progMachineName","pathname","s","signInUserSession","accessToken","jwtToken","downloadUrl","checkZipFunc","downloadZip","pickBy","pName","getPrograms","allPrograms","fetchData","showSignin","ThemeProvider","themes","message","Provider","Boolean","hostname","require","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","_react","_propTypes","_Button","_Snackbar","_SnackbarContent","_Typography","_Email","checkEmailMsgIco","checkEmailMsgTxt","checkEmailMsg","CheckemailMsg","onResend","createElement","action","propTypes","bool","_default","useAuthCommon","VerifyContact","SignUp","SignIn","RequireNewPassword","PasswordHelper","Loading","ForgotPassword","ConfirmSignUp","ConfirmSignIn","AuthPhoneNum","AuthContainer","_Chip","_classnames","_styles","_colors","_extends","assign","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","chipContainer","chip","ok","bad","pword","hasUpper","hasLower","hasNum","hasSpecial","enoughChars","SpecialChip","props","containerRef","getElementsByClassName","click","addEventListener","removeEventListener","_TextField","_Toolbar","_auth","_AuthContainer","handleInputChange","handleBack","handleConfirm","isRequired","_CheckemailMsg","handleResend","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","desc","set","_interopRequireWildcard","WeakMap","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","TypeError","_nonIterableRest","handleSubmit","handleSendCode","_useState2","setSent","autoComplete","_core","_PasswordHelper","change","requiredAttributes","placeholders","setPword","attribute","array","handleForgotPassword","handleSignup","federated","handleSignIn","handleBeAnonymous","_FormControl","_InputLabel","_Select","signUpFields","signUpFieldLabels","signUpFieldPlaceholders","countryDialCodes","defaultDialCode","selectVal","setSelectVal","_useState4","pwordType","handleDialCodeChange","field","findIndex","shrink","required","dialCode","getXML","_axios","parseProgramXML","_parseProgramXML","_parseProjectXML","augmentXML","newMeta","parsed","_xmldom","DOMParser","parseFromString","metadata","getElementsByTagName","removeChild","warehouseNode","mNode","setAttribute","appendChild","createTextNode","insertBefore","XMLSerializer","serializeToString","buildRSPath","verifyMeta","projectXML","programXML","projMeta","MetaData","projectDef","ProjectType","col","_common","_xml2js","_asyncToGenerator","parseMeta","rawXML","parsedProgramJSON","xmlDom","parseStringPromise","Program","Definitions","Groups","Products","_recursePaths","defs","hierarchy","prodPaths","prodEl","ref","getAttribute","product","currEl","parentNode","tagName","reverse","_callee2","parsedProjectJSON","_context2","Project","Warehouse","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","Function","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","Reflect","construct","sham","Proxy","Date","isNativeReflectConstruct","instance","bind","setPrototypeOf","__proto__","getPrototypeOf","_Error","reasons","Constructor","_classCallCheck","captureStackTrace","subClass","superClass","_inherits","authCheck","apiCall","_graphqlTag","_templateObject","xml","_templateObject2","_templateObject3","prod","getProgram","_templateObject4","_ref3","getProject","_templateObject5","_ref4","getUploadUrls","fileList","projectType","_templateObject6","response","_templateObject7","_templateObject8","_templateObject9","_ref5","_graphql","_taggedTemplateLiteral","strings","raw","freeze","query","variables","headers","authorization","print","status","code","_reactTextMask","_Input","TextMaskCustom","inputRef","other","inputElement","mask","placeholderChar","showMask","handleChange","inputComponent","_Tabs","_Tab","_Phone","RADIO","onBack","hasEmail","hasPhone","handleSkip","handleVerify","radioVal","setRadioVal","indicatorColor","textColor","centered","defaultProps","_awsAmplify","_countryDialCodes","_awsAmplifyReact","_SignIn","_ConfirmSignIn","_RequireNewPassword","_SignUp","_Loading","_ConfirmSignUp","_ForgotPassword","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","defaultAuthState","authState","signUpConfig","header","hiddenDefaults","defaultCountryCode","displayOrder","awsConfig","_useState2$","setAuth","configure","getCurrentToken","currSession","currentSession","Authenticator","onStateChange","state","hideDefault","isGod","idToken","payload","forceSignIn","_SignInOrig","newProps","changeState","signIn","_SignUpOrig","_this2","hide","includes","checkCustomSignUpFields","sortFields","getDefaultDialCode","I18n","signUp","_ConfirmSignInOrig","_this3","confirm","_ConfirmSignUpOrig","_this4","resend","_RequireNewPasswordOr","challengeParam","part","_LoadingOrig","_ForgotPasswordOrig","_this5","send","submit","misc","_CssBaseline","_useAuthCommon","bgSwoosh","zIndex","logoInner","any"],"mappings":"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","file":"static/js/main.47c32e25.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(theme) {\n  return {\n    root: {},\n    spacer: {\n      flexGrow: 1\n    },\n    forgotPassword: {\n      width: '100%',\n      textAlign: 'right'\n    },\n    switch: {},\n    switchButton: {\n      flexGrow: 1,\n      '&:last-child': {\n        borderRadius: 0\n      },\n      '&:first-child': {\n        borderRadius: 0\n      }\n    },\n    phoneNumInner: {\n      marginTop: theme.spacing(1),\n      display: 'flex'\n    },\n    phoneNumDropdown: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    warnText: {\n      marginTop: theme.spacing(2),\n      fontStyle: 'italic'\n    },\n    noSignin: {\n      margin: theme.spacing(2, 0),\n      padding: theme.spacing(1),\n      textAlign: 'left',\n      border: \"1px solid #00000022\",\n      background: \"#0000000F\"\n    }\n  };\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatNum = formatNum;\nexports.clearSelection = clearSelection;\nexports.isObjectWithKeys = isObjectWithKeys;\nexports.makeDomArray = makeDomArray;\nexports.capitalizeFirstLetter = capitalizeFirstLetter;\nexports.numericArrayCompare = numericArrayCompare;\nexports.decodeUnbufferedBase64 = decodeUnbufferedBase64;\nexports.encodeUnbufferedBase64 = encodeUnbufferedBase64;\nexports.isObject = isObject;\nexports.arrToObj = arrToObj;\nexports.getRandomArbitraryInt = getRandomArbitraryInt;\nexports.debounce = debounce;\nexports.padString = padString;\nexports.formatTime = formatTime;\nexports.chunkArray = exports.base64toJSON = exports.json2base64 = exports.urlizeb64 = exports.isNumeric = void 0;\n\nvar _numeral = _interopRequireDefault(require(\"numeral\"));\n\nvar _zlib = _interopRequireDefault(require(\"zlib\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar isNumeric = function isNumeric(num) {\n  try {\n    return !isNaN(parseFloat(num)) && isFinite(num);\n  } catch (e) {\n    return false;\n  }\n};\n\nexports.isNumeric = isNumeric;\n\nvar urlizeb64 = function urlizeb64(x) {\n  return x.replace('+', '-').replace('/', '_').replace(/=+$/, '');\n};\n\nexports.urlizeb64 = urlizeb64;\n\nfunction formatNum(num, precision) {\n  try {\n    var precstr = precision > 0 ? '.' + Array(precision + 1).join('0') : '';\n    var newprec = isNumeric(num) ? (0, _numeral[\"default\"])(num).format(\"0,0\".concat(precstr)) : num;\n    return newprec.replace(/(\\.(0{0,1}[1-9]*))0+$/, '$1');\n  } catch (e) {\n    return num;\n  }\n}\n\nfunction clearSelection() {\n  if (document.selection && document.selection.empty) {\n    document.selection.empty();\n  } else if (window.getSelection) {\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n  }\n}\n\nfunction isObjectWithKeys(obj) {\n  return _typeof(obj) === 'object' && obj !== null && Object.keys(obj).length > 0;\n}\n\nfunction makeDomArray(domnode) {\n  if (!domnode) return [];\n  var keys = Object.keys(domnode);\n  if (keys.length > 1 || keys.length === 0) throw Error('Expected nester domnode structure.');\n  if (!domnode) return [];\n  if (!domnode[keys[0]]) return [];\n  return Array.isArray(domnode[keys[0]]) ? domnode[keys[0]] : [domnode[keys[0]]];\n}\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction numericArrayCompare(arr1, arr2) {\n  if (!Array.isArray(arr1) || !Array.isArray(arr2)) return false;\n  if (arr1.length !== arr2.length) return false;\n  return !arr1.some(function (el, idx) {\n    return el !== arr2[idx];\n  });\n}\n\nfunction decodeUnbufferedBase64(hash) {\n  var missingPadding = hash.length % 4;\n\n  if (missingPadding !== 0) {\n    var newhash = hash + Array(4 - missingPadding).join('=');\n    return Buffer.from(newhash, 'base64').toString();\n  } else {\n    return Buffer.from(hash, 'base64').toString();\n  }\n}\n\nfunction encodeUnbufferedBase64(str) {\n  return urlizeb64(Buffer.from(str).toString('base64'));\n}\n\nfunction isObject(o) {\n  return o instanceof Object && o.constructor === Object;\n}\n\nfunction arrToObj(data) {\n  var newData = _objectSpread({}, data);\n\n  Object.keys(newData).forEach(function (key) {\n    var keyDat = newData[key];\n\n    if (keyDat._) {\n      keyDat.val = keyDat._;\n      delete keyDat._;\n    }\n\n    if (keyDat.$) {\n      keyDat.attr = keyDat.$;\n      delete keyDat.$;\n    }\n\n    if (_typeof(keyDat) === 'object') {\n      data[key] = arrToObj(keyDat);\n\n      if (Array.isArray(keyDat) && keyDat.length === 1 && typeof keyDat[0] === 'string') {\n        if (isNumeric(keyDat[0])) data[key] = Number(keyDat[0]);else data[key] = keyDat[0].replace(/\\\\/g, '/');\n      } else if (Array.isArray(keyDat) && keyDat.length === 1 && isObject(keyDat[0]) && Object.keys(keyDat[0]).length === 1) {\n        data[key] = keyDat[0][Object.keys(keyDat[0])[0]];\n      }\n\n      if (_typeof(data[key]) && data[key].length === 0) {\n        delete data[key];\n      }\n\n      if (typeof data[key] === 'string') {\n        data[key] = data[key].trim();\n        if (isNumeric(data[key])) data[key] = Number(data[key]);\n      }\n    }\n  });\n  return newData;\n}\n\nvar json2base64 = function json2base64(text) {\n  return new Promise(function (resolve, reject) {\n    _zlib[\"default\"].gzip(JSON.stringify(text), function (err, data) {\n      if (err) reject(err);else resolve(data.toString('base64'));\n    });\n  });\n};\n\nexports.json2base64 = json2base64;\n\nvar base64toJSON = function base64toJSON(b64String) {\n  var buff = Buffer.from(b64String, 'base64');\n  return new Promise(function (resolve, reject) {\n    _zlib[\"default\"].gunzip(buff, function (err, data) {\n      if (err) reject(err);else resolve(JSON.parse(data.toString()));\n    });\n  });\n};\n\nexports.base64toJSON = base64toJSON;\n\nvar chunkArray = function chunkArray(arr, chunkSize) {\n  var result = [];\n\n  for (var i = 0; i < arr.length; i += chunkSize) {\n    result.push(arr.slice(i, i + chunkSize));\n  }\n\n  return result;\n};\n\nexports.chunkArray = chunkArray;\n\nfunction getRandomArbitraryInt(min, max) {\n  return parseInt(Math.random() * (max - min) + min, 10);\n}\n\nfunction debounce(func, wait, immediate) {\n  var _this = this;\n\n  var timeout = null;\n  return function () {\n    for (var _len = arguments.length, innerArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      innerArgs[_key] = arguments[_key];\n    }\n\n    var context = _this;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, innerArgs);\n      }\n    }, wait);\n\n    if (callNow) {\n      func.apply(context, innerArgs);\n    }\n  };\n}\n\n;\n\nfunction padString(padChar, totalLength, str) {\n  var padLeft = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var pad = totalLength > str.length ? padChar.repeat(2 + totalLength - str.length) : '';\n\n  if (padLeft) {\n    return (pad + str).slice(-totalLength);\n  } else {\n    return (str + pad).substring(0, totalLength);\n  }\n}\n\nfunction formatTime(t, roundToMultipleOf) {\n  function round(input) {\n    if (roundToMultipleOf) {\n      return roundToMultipleOf * Math.round(input / roundToMultipleOf);\n    } else {\n      return input;\n    }\n  }\n\n  if (t > 3600) {\n    return Math.floor(t / 3600) + 'h' + round(t % 3600 / 60) + 'm';\n  } else if (t > 60) {\n    return Math.floor(t / 60) + 'm' + round(t % 60) + 's';\n  } else if (t > 10) {\n    return round(t) + 's';\n  } else {\n    return t + 's';\n  }\n}","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/matt/Work/Git/NAR/riverscapes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uploadStream = uploadStream;\nexports.uploadStr = uploadStr;\nexports.downloadStream = downloadStream;\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction uploadStream(url, pathAbs, fields, update) {\n  var formData = _objectSpread({}, fields, {\n    file: _fs[\"default\"].createReadStream(pathAbs, {\n      highWaterMark: 256 * 1024\n    })\n  });\n\n  formData.file.on('data', function (data) {\n    if (update) update(data.length);\n  });\n  var params = {\n    method: 'POST',\n    formData: formData,\n    url: url\n  };\n  return new Promise(function (resolve, reject) {\n    (0, _request[\"default\"])(params).on('error', function (err) {\n      console.log(err);\n      return reject(err);\n    }).on('end', function () {\n      return resolve();\n    });\n  });\n}\n\nfunction uploadStr(url, myStr, fields, update) {\n  var formData = _objectSpread({}, fields, {\n    file: myStr\n  });\n\n  var params = {\n    method: 'POST',\n    data: formData,\n    url: url\n  };\n  return new Promise(function (resolve, reject) {\n    (0, _request[\"default\"])(params).on('error', function (err) {\n      console.log(err);\n      return reject(err);\n    }).on('end', function () {\n      return resolve();\n    });\n  });\n}\n\nfunction downloadStream(_x, _x2, _x3) {\n  return _downloadStream.apply(this, arguments);\n}\n\nfunction _downloadStream() {\n  _downloadStream = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(url, downloadPath, update) {\n    var dirname, params, writeStream;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            dirname = _path[\"default\"].dirname(downloadPath);\n\n            if (!_fs[\"default\"].existsSync(dirname) || !_fs[\"default\"].lstatSync(dirname).isDirectory()) {\n              _fs[\"default\"].mkdirSync(dirname, {\n                recursive: true\n              });\n            }\n\n            params = {\n              method: 'GET',\n              url: url,\n              maxContentLength: Infinity,\n              responseType: 'stream'\n            };\n            writeStream = _fs[\"default\"].createWriteStream(downloadPath, {\n              highWaterMark: 256 * 1024\n            });\n            writeStream.on('data', function (data) {\n              if (update) update(data.length);\n            });\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              (0, _request[\"default\"])(params).pipe(writeStream).on('error', function (err) {\n                console.log(err);\n                return reject(err);\n              }).on('end', function () {\n                return resolve();\n              });\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _downloadStream.apply(this, arguments);\n}","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/matt/Work/Git/NAR/riverscapes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.treeIzeFilePaths = exports.loadLocalProjectXML = exports.upDownDiff = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _xml = require(\"./xml\");\n\nvar _api = require(\"./api\");\n\nvar _errors = require(\"./errors\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nvar upDownDiff = function upDownDiff(left, right) {\n  var different = [];\n  var same = [];\n\n  if (!right || right.length === 0) {\n    return {\n      leftOnly: left.map(function (f) {\n        return f.key;\n      }),\n      rightOnly: [],\n      different: [],\n      same: []\n    };\n  } else if (!left || left.length === 0) {\n    return {\n      leftOnly: [],\n      rightOnly: right.map(function (f) {\n        return f.key;\n      }),\n      different: [],\n      same: []\n    };\n  }\n\n  var leftOnly = left.filter(function (leftFile) {\n    var found = right.find(function (rightFile) {\n      return leftFile.key === rightFile.key;\n    });\n\n    if (found) {\n      if (found.md5 === leftFile.md5) same.push(leftFile.key);else different.push(leftFile.key);\n    }\n\n    return !found;\n  }).map(function (f) {\n    return f.key;\n  });\n  var rightOnly = right.filter(function (rightFile) {\n    return !left.find(function (leftFile) {\n      return rightFile.key === leftFile.key;\n    });\n  }).map(function (f) {\n    return f.key;\n  });\n  return {\n    leftOnly: leftOnly,\n    rightOnly: rightOnly,\n    different: different,\n    same: same\n  };\n};\n\nexports.upDownDiff = upDownDiff;\n\nvar loadLocalProjectXML = function () {\n  var _ref = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(apiUrl, jwt, projectXMLPath, programObj) {\n    var filePath, xmlfile, projectfile, retVal;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            filePath = projectXMLPath;\n            xmlfile = null;\n            projectfile = programObj.meta.projectfile;\n\n            if (_fs[\"default\"].existsSync(filePath)) {\n              _context.next = 7;\n              break;\n            }\n\n            throw new _errors.ValidationError(\"Path given '\".concat(filePath, \"' is not a '\").concat(projectfile, \"' file or a folder that contains one\"));\n\n          case 7:\n            if (!_fs[\"default\"].lstatSync(filePath).isDirectory()) {\n              _context.next = 11;\n              break;\n            }\n\n            filePath = _path[\"default\"].join(projectXMLPath, projectfile);\n\n            if (_fs[\"default\"].existsSync(filePath)) {\n              _context.next = 11;\n              break;\n            }\n\n            throw new _errors.ValidationError(\"Could not find a '\".concat(projectfile, \"' file at path '\").concat(projectXMLPath));\n\n          case 11:\n            _context.prev = 11;\n            xmlfile = _fs[\"default\"].readFileSync(filePath).toString('utf-8');\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](11);\n            throw new _errors.ValidationError('Error reading file');\n\n          case 18:\n            _context.next = 20;\n            return (0, _api.validateProject)(apiUrl, jwt, xmlfile, programObj.machineName).then(function (_ref2) {\n              var data = _ref2.data,\n                  errors = _ref2.errors;\n              if (errors) throw new Error('Unexpected XML Validation problems');\n\n              if (data.validate.result === false) {\n                throw new _errors.ValidationError('Project did not validate', data.validate.xmlErrors);\n              }\n            })[\"catch\"](function (err) {\n              throw err;\n            });\n\n          case 20:\n            _context.next = 22;\n            return (0, _xml.parseProjectXML)(xmlfile)[\"catch\"](function (err) {\n              throw err;\n            });\n\n          case 22:\n            retVal = _context.sent;\n            return _context.abrupt(\"return\", {\n              filePath: filePath,\n              data: retVal\n            });\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[11, 15]]);\n  }));\n\n  return function loadLocalProjectXML(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.loadLocalProjectXML = loadLocalProjectXML;\n\nvar treeIzeFilePaths = function treeIzeFilePaths(filePathsArr) {\n  var root = [];\n  filePathsArr.forEach(function (fPath) {\n    var pathArr = fPath.split('/');\n    var currFolder = root;\n\n    var _loop = function _loop() {\n      var folder = {\n        name: pathArr.shift(),\n        children: []\n      };\n      var found = currFolder.find(function (f) {\n        return f.name === folder.name;\n      });\n\n      if (found && found.children) {\n        currFolder = found.children;\n      } else {\n        currFolder.push(folder);\n        currFolder = folder.children;\n      }\n\n      fileSort(currFolder);\n    };\n\n    while (pathArr.length > 1) {\n      _loop();\n    }\n\n    currFolder.push({\n      name: pathArr[0],\n      path: fPath\n    });\n  });\n  fileSort(root);\n  return root;\n};\n\nexports.treeIzeFilePaths = treeIzeFilePaths;\n\nfunction fileSort(currFolder) {\n  currFolder.sort(function (a, b) {\n    if (a.children && !b.children) return -1;\n    if (!a.children && b.children) return 1;\n    if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n    if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n    return 0;\n  });\n}","import React from 'react'\n\nexport const AppContext = React.createContext({})\n","import React, { useContext, useState } from 'react'\nimport classNames from 'classnames'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport AppBar from '@material-ui/core/AppBar'\nimport Divider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Menu from '@material-ui/core/Menu'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport { AppContext } from '../contexts'\n\n// import MenuIcon from '@material-ui/core/Menu'\nimport { fade, makeStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\n\nconst style = theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    width: '100%',\n    padding: theme.spacing(0, 1),\n    textShadow: '3px 3px 3px rgba(0,0,0,0.7)',\n    backgroundImage: `url(${process.env.PUBLIC_URL}/HeaderBackground.png)`,\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: '0% 50%',\n    backgroundSize: 'cover',\n    backgroundColor: '#444444'\n  },\n  logo: {\n    height: 40,\n    width: 40,\n    marginRight: theme.spacing(2)\n  },\n  programChooser: {\n    margin: theme.spacing(0, 1),\n    color: theme.palette.primary.contrastText,\n    '& svg': {\n      color: theme.palette.primary.contrastText\n    },\n    '&:before': {\n      borderColor: theme.palette.primary.contrastText\n    },\n    '&:after': {\n      borderColor: theme.palette.primary.contrastText\n    }\n  },\n  transparent: {\n    backgroundColor: 'transparent',\n    background: 'none',\n    color: theme.palette.text.primary\n    // borderBottom: `2px transparent`\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 200\n    }\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'flex',\n      flexGrow: 1\n    }\n  },\n  sectionMobile: {\n    display: 'flex',\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  }\n})\nconst useStyles = makeStyles(style)\n\nconst TopBar = () => {\n  const classes = useStyles()\n  const { program, programs, signOut, navigateProgram } = useContext(AppContext)\n\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null)\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null)\n  }\n\n  const handleNavigate = (nm) => {\n    handleMobileMenuClose()\n    navigateProgram(nm)\n  }\n\n  const handleMobileMenuOpen = event => {\n    setMobileMoreAnchorEl(event.currentTarget)\n  }\n\n  const renderMobileMenu = programs && (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={!!mobileMoreAnchorEl}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem>\n        <Typography variant='overline'>Programs</Typography>\n      </MenuItem>\n      {programs.map((prog, idx) => (\n        <MenuItem\n          disabled={program && program.machineName === prog.machineName}\n          key={`prog-${idx}`}\n          onClick={() => handleNavigate(prog.machineName)}\n          value={prog.machineName}\n        >\n          {prog.name}\n        </MenuItem>\n      ))}\n      <Divider />\n      <MenuItem onClick={signOut}>\n      Log Out\n      </MenuItem>\n    </Menu>\n  )\n\n  return (\n    <React.Fragment>\n      <AppBar position='static'>\n        <Toolbar className={classNames(classes.root)} disableGutters>\n          <a href='http://riverscapes.xyz/'>\n            <img className={classes.logo} src={process.env.PUBLIC_URL + '/RiverscapesLogo.png'} alt='logo' />\n          </a>\n          {program\n            ? <div>\n              <Typography variant='subtitle1'>{program.name}</Typography>\n              <Typography variant='caption'>Riverscapes Warehouse Explorer</Typography>\n            </div>\n            : <Typography variant='subtitle1'>Riverscapes Warehouse Explorer</Typography>\n          }\n          <div className={classes.spacer} />\n          <IconButton\n            aria-haspopup='true'\n            onClick={handleMobileMenuOpen}\n            color='inherit'\n          >\n            <MoreIcon />\n          </IconButton>\n\n        </Toolbar>\n      </AppBar>\n      {programs && renderMobileMenu}\n    </React.Fragment>\n  )\n}\n\nexport default TopBar\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport Typography from '@material-ui/core/Typography'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport Avatar from '@material-ui/core/Avatar'\nimport moment from 'moment'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n// import FolderIcon from '@material-ui/icons/Folder'\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload'\n\nimport { AppContext } from '../../contexts'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Chip } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(2)\n  },\n  itemText: {\n    flexGrow: 1\n  },\n  mm: {\n    display: 'flex',\n    width: '100%'\n  },\n  prodChip: {\n    height: theme.spacing(2.3),\n    borderRadius: theme.spacing(1) / 2,\n    color: '#999',\n    border: `1px solid #ddd`,\n    background: '#eee',\n    marginRight: theme.spacing(1)\n  },\n  downloadText: {\n    position: 'absolute',\n    textAlign: 'center',\n    width: '100%',\n    bottom: -theme.spacing(2),\n    right: 0\n  }\n}))\n\nconst SearchResult = ({ data, loading, onClick }) => {\n  const classes = useStyles()\n  const { program, pendingZips, downloadZipFile } = useContext(AppContext)\n  const collections = program.definitions.Collections\n\n  if (loading) {\n    return (\n      <ListItem button>\n        <ListItemAvatar>\n          <Skeleton variant='circle' height={40} width={40} />\n        </ListItemAvatar>\n        <div className={classes.itemText}>\n          <Skeleton style={{ height: 10, width: '60%', margin: '6px 0' }} />\n          <Skeleton style={{ height: 10, width: '40%', margin: '6px 0' }} />\n        </div>\n        <ListItemSecondaryAction>\n          <IconButton edge='end' disabled>\n            <Skeleton variant='circle' height={40} width={40} />\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    )\n  }\n\n  let mandatoryMeta = []\n\n  let pTypeName = data.projType\n  const pendingSince = pendingZips[data.id]\n  // Figure out which fields are mandatory\n  if (data.projType && program.products[data.projType]) {\n    const projObj = program.products[data.projType].pathArr.filter(pr => pr.type === 'Collection')\n    pTypeName = program.products[data.projType].name\n    mandatoryMeta = projObj.map(po => ({ key: po.def.name, val: data.meta[po.def.name] }), {})\n\n    // If no mandatory meta values are present just show the first 5\n    if (mandatoryMeta.length === 0) {\n      mandatoryMeta = Object.keys(data.meta)\n        .slice(0, 5)\n        .map(po => ({ key: po, val: data.meta[po] }), {})\n    }\n  }\n  return (\n    <ListItem button onClick={onClick}>\n      <ListItemAvatar>\n        <Avatar> {data.projType.substr(0, 1)} </Avatar>\n      </ListItemAvatar>\n      <div className={classes.itemText}>\n        <Typography variant='body1'>{data.name}</Typography>\n        <div className={classes.mm}>\n          <Chip className={classes.prodChip} label={pTypeName} size='small' />\n          {mandatoryMeta.map(({ key, val }, idx) => {\n            const mmFound = collections.find(c => c.name === key)\n            const color = mmFound ? mmFound.color[500] : null\n            return (\n              <Typography\n                key={`mmval-${idx}`}\n                className={classes.mmItem}\n                variant='caption'\n                color='textSecondary'\n              >\n                {idx > 0 && ' • ' }\n                <span style={{ color }}> {val} </span>\n              </Typography>\n            )\n          })}\n        </div>\n      </div>\n      <ListItemSecondaryAction>\n        {pendingSince\n          ? (\n            <Button\n              variant='outlined'\n              edge='end'\n              disabled\n              color='primary'\n              className={classes.button}\n              startIcon={<CircularProgress color='secondary' size={24} thickness={3} />}\n            >\n              Preparing Zip...\n            </Button>\n          )\n          : (\n            <Button\n              edge='end'\n              variant='outlined'\n              color='primary'\n              onClick={() => downloadZipFile(data)}\n              end\n              startIcon={<CloudDownloadIcon />}\n            >\n              ZIP\n            </Button>\n          )\n        }\n        {pendingSince && (\n          <Typography className={classes.downloadText} component='div' color='textSecondary' variant='caption'>\n          started {moment(pendingSince, 'x').fromNow()}\n          </Typography>\n        )}\n      </ListItemSecondaryAction>\n    </ListItem>\n\n  )\n}\n\nSearchResult.propTypes = {\n  data: PropTypes.object,\n  loading: PropTypes.bool,\n  onClick: PropTypes.func\n}\n\nexport default SearchResult\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Chip from '@material-ui/core/Chip'\nimport IconButton from '@material-ui/core/IconButton'\nimport Divider from '@material-ui/core/Divider'\nimport CloseIcon from '@material-ui/icons/Close'\nimport Typography from '@material-ui/core/Typography'\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile'\nimport PhotoIcon from '@material-ui/icons/Photo'\nimport Terrain from '@material-ui/icons/Terrain'\nimport Assignment from '@material-ui/icons/Assignment'\n\nimport TreeView from '@material-ui/lab/TreeView'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\n\nimport TreeItem from '@material-ui/lab/TreeItem'\n\nimport filesize from 'filesize'\nimport moment from 'moment'\nimport { red, purple, green } from '@material-ui/core/colors'\n\nimport { projectHelpers } from '@riverscapes/common'\n\nimport { AppContext } from '../contexts'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  },\n  normalIcon: {\n\n  },\n  documentIcon: {\n    color: red[500]\n  },\n  photoIcon: {\n    color: purple[500]\n  },\n  TerrainIcon: {\n    color: green[500]\n  },\n  metaDisplay: {\n    display: 'flex',\n    flexFlow: 'wrap'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  },\n  treeLabel: {\n    marginLeft: theme.spacing(1),\n    '&>*': {\n      lineHeight: 1.2\n    }\n  },\n  treeFile: {\n  },\n  treeFileContent: {\n    // border: '1px solid blue'\n    borderBottom: `1px solid ${theme.palette.grey[100]}`,\n    padding: theme.spacing(1)\n  },\n  treeFolder: {\n\n  },\n  treeFolderContent: {\n    // border: '1px solid green'\n    padding: theme.spacing(1)\n  },\n  metaDisplayItem: {\n    flex: '1 1',\n    maxWidth: '25%',\n    minWidth: 150,\n    margin: theme.spacing(0, 1, 0, 0),\n    '&>*': {\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    }\n  },\n  prodChip: {\n    // height: theme.spacing(2.3),\n    borderRadius: theme.spacing(1) / 2,\n    color: '#999',\n    border: `1px solid #ddd`,\n    background: '#eee',\n    marginRight: theme.spacing(1)\n  }\n}))\n\nexport default function CustomizedDialogs ({ onClose, project }) {\n  const classes = useStyles()\n  const { downloadFile, program } = useContext(AppContext)\n\n  const iconMapping = [\n    { pattern: /.*\\.(png|gif|jpg|jpeg)$/i, icon: <PhotoIcon className={classes.photoIcon} /> },\n    { pattern: /.*\\.(tif|img|shp)$/i, icon: <Terrain className={classes.TerrainIcon} /> },\n    { pattern: /.*\\.(csv|pdf|doc)$/i, icon: <Assignment className={classes.documentIcon} /> }\n  ]\n\n  const files = project.files.reduce((acc, file) => {\n    const found = iconMapping.find(({ pattern }) => file.key.match(pattern))\n    return {\n      ...acc,\n      [file.key]: {\n        ...file,\n        icon: found ? found.icon : <InsertDriveFileIcon className={classes.normalIcon} />,\n        classStr: found ? found.classStr : 'normalIcon'\n      }\n    }\n  }, {})\n  const fileTree = projectHelpers.treeIzeFilePaths(Object.keys(files))\n  let pTypeName = program.products[project.projType].name\n  return (\n    <Dialog\n      onClose={onClose}\n      open\n      maxWidth='md'\n      fullWidth\n    >\n      <DialogTitle disableTypography className={classes.root}>\n        <div>\n          <Typography variant='h5'>{project.name}</Typography>\n          <Typography variant='overline' color='textSecondary'>\n            <Chip className={classes.prodChip} label={pTypeName} />\n            ID: {project.id}\n          </Typography>\n        </div>\n        {onClose ? (\n          <IconButton aria-label='close' className={classes.closeButton} onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        ) : null}\n      </DialogTitle>\n      <DialogContent dividers>\n        <Typography variant='caption' component='div' color='inherit'>\n          <strong>Created</strong>: {moment(project.createdOn, 'x').fromNow()} ({moment(project.createdOn, 'x').format('lll')})\n        </Typography>\n        <Typography variant='caption' component='div' color='inherit'>\n          <strong>Updated</strong>: {moment(project.updatedOn, 'x').fromNow()} ({moment(project.updatedOn, 'x').format('lll')})\n        </Typography>\n\n        <Typography className={classes.title} color='inherit' variant='subtitle1'>Metadata</Typography>\n        <Divider />\n        <div className={classes.metaDisplay}>\n          {Object.keys(project.meta).map((metaKey, idk) => (\n            <div key={`result-${idk}`} className={classes.metaDisplayItem}>\n              <Typography variant='overline' component='div' color='textSecondary'>{metaKey}</Typography>\n              <Typography variant='caption' component='div' color='textPrimary'>{project.meta[metaKey]}</Typography>\n            </div>\n          ))}\n        </div>\n\n        <Typography className={classes.title} color='inherit' variant='subtitle1'>Files</Typography>\n        <Divider />\n        <TreeView\n          className={classes.treeRoot}\n          defaultExpanded={['1']}\n          defaultCollapseIcon={<ExpandMoreIcon color='inherit' />}\n          defaultExpandIcon={<ChevronRightIcon color='inherit' />}\n        >\n          {\n            fileTree.map((ft, idx) => <RecurseTreeItem project={project} key={`treeNode-${idx}`} keyStr={`treeNode-${idx}`} classes={classes} item={ft} fileDict={files} fileClick={downloadFile} />)\n          }\n        </TreeView>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nCustomizedDialogs.propTypes = {\n  onClose: PropTypes.func,\n  project: PropTypes.object\n}\n\nconst RecurseTreeItem = ({ classes, item, fileDict, keyStr, project, fileClick }) => {\n  if (item.children) {\n    const childNodes = item.children.map((c, idx) => (\n      <RecurseTreeItem classes={classes} keyStr={`${keyStr}-l${idx}`} key={`${keyStr}-l${idx}`} item={c} fileDict={fileDict} project={project} fileClick={fileClick} />\n    ))\n    return (\n      <TreeItem\n        nodeId={keyStr}\n        className={classes.treeFolder}\n        classes={{\n          content: classes.treeFolderContent\n        }}\n        label={item.name}\n        children={childNodes}\n      />\n    )\n  }\n  else {\n    const lookup = item.path ? fileDict[item.path] : null\n    return (\n      <TreeItem\n        nodeId={keyStr}\n        onClick={() => fileClick(project, item.path)}\n        className={classes.treeFile}\n        classes={{\n          content: classes.treeFileContent\n        }}\n        label={(\n          <div className={classes.treeLabel}>\n            <Typography variant='caption' component='div' color='textPrimary'>{item.path}</Typography>\n            <Typography variant='caption' component='div' color='textSecondary'>{filesize(parseInt(lookup.size, 10))}</Typography>\n          </div>\n        )}\n        endIcon={lookup.icon}\n      />\n\n    )\n  }\n}\n\nRecurseTreeItem.propTypes = {\n  item: PropTypes.object,\n  classes: PropTypes.object,\n  fileDict: PropTypes.object,\n  project: PropTypes.object,\n  fileClick: PropTypes.func,\n  keyStr: PropTypes.string\n}\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\n\nimport { AppContext } from '../contexts'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n\n  },\n  words: {\n    textAlign: 'center'\n  },\n  nav: {\n    display: 'flex'\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  numButton: {\n    minWidth: theme.spacing(4)\n  }\n}))\n\nconst Pagination = ({ data, loading }) => {\n  const classes = useStyles()\n  const { searchParams, setSearchParams } = useContext(AppContext)\n\n  if (loading) {\n    return (\n      <div className={classes.root}>\n        <div className={classes.nav}>\n          <Button disabled color='primary'>Previous</Button>\n          <div className={classes.spacer} />\n          <div className={classes.spacer} />\n          <Button disabled color='primary'>Next</Button>\n        </div>\n        <div className={classes.words}>\n          <Typography variant='caption'>\n            Loading...\n          </Typography>\n        </div>\n      </div>\n    )\n  }\n  if (!data) return null\n  const { startIndex, endIndex, total } = data\n\n  const nextToken = data.nextToken || 0\n  const previousToken = data && data.projects && startIndex - data.projects.length > 0 ? startIndex - data.projects.length : 0\n  const currPage = parseInt(Math.ceil((startIndex + 1) / searchParams.limit), 10)\n\n  const totalPages = searchParams.limit > 0 ? parseInt(Math.ceil(total / searchParams.limit), 10) : 0\n  let showJumpNums = []\n  if (totalPages > 1 && totalPages <= 10) showJumpNums = Array(totalPages).fill(null).map((noVal, idx) => idx + 1)\n  else if (totalPages > 10) {\n    if (currPage <= 5 || currPage >= totalPages - 5) {\n      showJumpNums = [1, 2, 3, 4, 5, null, totalPages - 4, totalPages - 3, totalPages - 2, totalPages - 1, totalPages]\n    }\n    else {\n      showJumpNums = [1, 2, null, currPage - 2, currPage - 1, currPage, currPage + 1, currPage + 2, null, totalPages - 1, totalPages]\n    }\n  }\n\n  const handleNext = () => setSearchParams({ ...searchParams, nextToken })\n  const handlePrevious = () => setSearchParams({ ...searchParams, nextToken: previousToken })\n  const handleJump = (jumpNum) => {\n    setSearchParams({ ...searchParams, nextToken: searchParams.limit * (jumpNum - 1) })\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.nav}>\n        <Button disabled={startIndex === 0} onClick={handlePrevious} color='primary'>Previous</Button>\n        <div className={classes.spacer} />\n        {showJumpNums.map(jn => {\n          if (jn !== null) {\n            if (jn === currPage) {\n              return (\n                <Button\n                  className={classes.numButton}\n                  key={`page-${jn}`}\n                  disabled\n                  color='inherit'\n                >\n                  {jn}\n                </Button>\n              )\n            }\n            else {\n              return (\n                <Button\n                  className={classes.numButton}\n                  key={`page-${jn}`}\n                  onClick={() => handleJump(jn)}\n                  color='primary'\n                >\n                  {jn}\n                </Button>\n              )\n            }\n          }\n          else {\n            return (\n              <Button key={`page-${jn}`} disabled>\n          ...\n              </Button>\n            )\n          }\n        })}\n        <div className={classes.spacer} />\n        <Button disabled={endIndex >= totalPages} onClick={handleNext} color='primary'>Next</Button>\n      </div>\n      <div className={classes.words}>\n        <Typography variant='caption'>\n        Results <strong>{startIndex + 1}</strong> - <strong>{endIndex + 1}</strong> of <strong>{total}</strong>\n        </Typography>\n      </div>\n    </div>\n  )\n}\n\nPagination.propTypes = {\n  data: PropTypes.object,\n  loading: PropTypes.bool\n}\n\nexport default Pagination\n","import React, { useState, useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport Paper from '@material-ui/core/Paper'\nimport Divider from '@material-ui/core/Divider'\nimport { AppContext } from '../../contexts'\n\nimport List from '@material-ui/core/List'\nimport SearchResult from './SearchResult'\n\nimport ProjectDialog from '../ProjectDialog'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport Pagination from '../Pagination'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(2)\n  }\n}))\n\nconst SearchResults = ({ data, loading, errors }) => {\n  const classes = useStyles()\n  const [projDialog, setProjDialog] = useState()\n  const { searchParams } = useContext(AppContext)\n\n  if (!loading && (\n    !data || !data.projects || data.projects.length === 0\n  )) {\n    return (\n      <Paper className={classes.root}>\n        <div>No Projects Found</div>\n      </Paper>\n    )\n  }\n\n  return (\n    <Paper className={classes.root}>\n      <Pagination data={data} loading={loading} />\n      <Divider />\n      <List>\n        {loading && (\n          Array(searchParams.limit || 10).fill(null).map((x, idx) => (\n            <SearchResult key={`result-${idx}`} loading />\n          ))\n        )}\n        {!loading && data && data.projects.map((r, idr) => (\n          <SearchResult key={`result-${idr}`} data={r} onClick={() => setProjDialog(r)} />\n        ))}\n      </List>\n      {projDialog && <ProjectDialog project={projDialog} onClose={() => setProjDialog()} />}\n    </Paper>\n  )\n}\n\nSearchResults.propTypes = {\n  data: PropTypes.object,\n  loading: PropTypes.bool,\n  errors: PropTypes.array\n}\n\nexport default SearchResults\n","import React, { useContext, useState, useEffect } from 'react'\n// import PropTypes from 'prop-types'\nimport { AppContext } from '../../contexts'\nimport { api } from '@riverscapes/common'\nimport SearchResults from './SearchResults'\n\nconst ResultsPaneConnect = () => {\n  const { jwt, url, program, searchParams } = useContext(AppContext)\n  const [isLoading, setIsLoading] = useState(true)\n  const [results, setResults] = useState()\n  const [errors, setErrors] = useState()\n\n  useEffect(() => {\n    setResults(null)\n    async function doEffect () {\n      if (!program) return\n      setIsLoading(true)\n      console.log('SEARCH', program.machineName, searchParams)\n      const results = await api.search(url, jwt, program.machineName, {\n        ...searchParams\n      }).catch(err => {\n        setIsLoading(false)\n        setErrors([err])\n      })\n      try {\n        if (results.errors && results.errors.length > 0) {\n          setErrors(results.errors)\n          setIsLoading(false)\n        }\n        else {\n          const searchData = results.data.search\n          const startIndex = searchParams.nextToken || 0\n          const endIndex = searchData.projects.length > 0 ? startIndex + searchData.projects.length - 1 : 0\n          const total = searchData.total || 0\n\n          setResults({\n            ...searchData,\n            startIndex,\n            endIndex,\n            total\n          })\n          setIsLoading(false)\n        }\n      }\n      catch {\n        setIsLoading(false)\n      }\n    }\n    doEffect()\n  }, [program, jwt, url, searchParams])\n\n  return (\n    <SearchResults data={results} loading={isLoading} errors={errors} />\n  )\n}\n\nexport default ResultsPaneConnect\n","import red from '@material-ui/core/colors/red'\nimport green from '@material-ui/core/colors/green'\nimport blue from '@material-ui/core/colors/blue'\nimport orange from '@material-ui/core/colors/orange'\nimport purple from '@material-ui/core/colors/purple'\nimport cyan from '@material-ui/core/colors/cyan'\nimport lime from '@material-ui/core/colors/lime'\nimport brown from '@material-ui/core/colors/brown'\n\nlet baseurl = process.env.REACT_APP_BASEURL\nlet basename = process.env.REACT_APP_BASENAME\nlet domain = process.env.REACT_APP_DOMAIN\nif (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n  domain = 'localhost'\n  basename = ''\n}\nconsole.log('config: ', { baseurl, basename, domain })\n\nexport const version = process.env.REACT_APP_VERSION\n\nexport const endpoints = {\n  graphql: `${process.env.REACT_APP_GRAPHQL}`\n}\n\nexport const appDefaults = {\n  searchDefaultParams: {\n    limit: 10\n  }\n}\n\nexport const mandatoryMetaColors = [red, green, blue, orange, purple, cyan, lime, brown]\n\nexport const aws = {\n  Auth: {\n    // REQUIRED - Amazon Cognito Identity Pool ID\n    // identityPoolId: process.env.REACT_APP_COGNITO_IDPOOLID, // XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab\n    // REQUIRED - Amazon Cognito Region\n    region: process.env.REACT_APP_AWS_REGION_DEPLOY,\n    // OPTIONAL - Amazon Cognito User Pool ID\n    userPoolId: process.env.REACT_APP_AWS_USERPOOLID,\n    // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)\n    userPoolWebClientId: process.env.REACT_APP_AWS_USERPOOLWEBCLIENTID,\n    // OPTIONAL - Enforce user authentication prior to accessing AWS resources or not\n    mandatorySignIn: true,\n    // OPTIONAL - Configuration for cookie storage\n    cookieStorage: {\n      // REQUIRED - Cookie domain (only required if cookieStorage is provided)\n      domain: `${domain}`,\n      // OPTIONAL - Cookie path\n      // path: `/${basename}`,\n      // OPTIONAL - Cookie expiration in days\n      expires: 120,\n      // OPTIONAL - Cookie secure flag\n      secure: false\n    }\n\n  }\n\n}\n","import React, { useState, useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Button from '@material-ui/core/Button'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { util } from '@riverscapes/common'\nimport { AppContext } from '../../contexts'\nimport { appDefaults } from '../../config'\nimport { makeStyles, Paper } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(2)\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  actionBar: {\n    display: 'flex',\n    width: '100%',\n    '&>*': {\n      marginLeft: theme.spacing(1)\n    }\n  },\n  projTypeLine: {\n    display: 'flex'\n  },\n  projType: {\n    marginRight: theme.spacing(1),\n    flexGrow: 1,\n    maxWidth: 300\n  },\n  resultsNum: {\n    flexShrink: 0\n  },\n  projTypeMenuItem: {\n    display: 'flex'\n  },\n  projTypeMenuItemSelected: {\n    display: 'flex'\n  },\n  projTypeMenuItemName: {\n    flexGrow: 1\n  },\n  projTypeMenuItemNum: {\n    color: theme.palette.text.secondary,\n    fontSize: '0.75rem'\n  }\n}))\n\n/**\n * This is the over-arching wrapper for the app. It combines all the\n * same place. Time will tell if that's a good strategy.\n */\nconst SearchForm = ({ projTotals }) => {\n  const classes = useStyles()\n  const { program, setSearchParams } = useContext(AppContext)\n  const [searchParamsTmp, setSearchParamsTmp] = useState(appDefaults.searchDefaultParams) // maybe context?\n  const [advancedVals, setAdvancedVals] = useState([])\n\n  const toggleAdvanced = () => {\n    if (advancedVals.length > 0) {\n      submitSearch({ ...searchParamsTmp }, [])\n    }\n    else {\n      submitSearch({ ...searchParamsTmp }, [['', '']])\n    }\n  }\n\n  const projectDict = program && program.products && Object.values(program.products).map(({ name, id }) => ({ name, id }))\n  const allAdvancedOptions = program ? program.definitions.Collections : []\n\n  allAdvancedOptions.sort((a, b) => {\n    if (a.name.toLowerCase() < b.name.toLowerCase()) return -1\n    if (a.name.toLowerCase() > b.name.toLowerCase()) return 1\n    return 0\n  })\n  projectDict.sort((a, b) => {\n    if (a.name.toLowerCase() < b.name.toLowerCase()) return -1\n    if (a.name.toLowerCase() > b.name.toLowerCase()) return 1\n    return 0\n  })\n\n  function submitSearch (params, advancedParams) {\n    const newParams = { ...(params || searchParamsTmp) }\n    const newAdvanced = [...(advancedParams || advancedVals)]\n\n    if (newParams.projType === '__all') delete newParams.projType\n\n    const advFinal = newAdvanced && newAdvanced.length > 0 && newAdvanced\n      .filter(([k, v]) => k && v && k.length > 0 && v.length > 0)\n\n    const submitParams = { ...newParams }\n    if (advFinal && advFinal.length > 0) submitParams.metaArr = JSON.stringify(advFinal)\n\n    if (advancedParams) setAdvancedVals(advancedParams)\n    setSearchParamsTmp(newParams)\n    setSearchParams(submitParams)\n  }\n\n  const handleKeyPress = e => {\n    if (e.keyCode === 13) {\n      setSearchParams(searchParamsTmp)\n    }\n  }\n  return (\n    <Paper className={classes.root}>\n      {program && program.products && (\n        <div className={classes.projTypeLine}>\n          <FormControl fullWidth className={classes.projType}>\n            <InputLabel htmlFor='projectType'>Project Type</InputLabel>\n            <Select\n              id='projectType'\n              inputProps={{\n                className: classes.projTypeMenuItemSelected\n              }}\n              value={searchParamsTmp.projType || '__all'}\n              onChange={(event) => {\n                const projType = event.target.value !== '_all' ? event.target.value : null\n                submitSearch({ ...searchParamsTmp, projType })\n              }}\n            >\n              <MenuItem className={classes.projTypeMenuItem} value='__all'>\n                <div className={classes.projTypeMenuItemName}>All Project Types</div>\n                <div className={classes.projTypeMenuItemNum} variant='caption' color='textSecondary'>{projTotals.__all > -1 ? `${projTotals.__all}` : '...'}</div>\n              </MenuItem>\n              {projectDict.map(({ name: prodName, id: prodId }, idx) => (\n                <MenuItem className={classes.projTypeMenuItem} key={`prod-${idx}`} value={prodId}>\n                  <div className={classes.projTypeMenuItemName}>{prodName}</div>\n                  <div className={classes.projTypeMenuItemNum} variant='caption' color='textSecondary'>{projTotals[prodId] > -1 ? `${projTotals[prodId]}` : '...'}</div>\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <div className={classes.spacer} />\n          <FormControl className={classes.resultsNum}>\n            <InputLabel htmlFor='resultsNum'>Results</InputLabel>\n            <Select\n              id='resultsNum'\n              value={searchParamsTmp.limit}\n              onChange={(event) => {\n                submitSearch({ ...searchParamsTmp, limit: event.target.value })\n              }}\n            >\n              <MenuItem value={10}>10</MenuItem>\n              <MenuItem value={20}>20</MenuItem>\n              <MenuItem value={50}>50</MenuItem>\n              <MenuItem value={100}>100</MenuItem>\n            </Select>\n          </FormControl>\n        </div>\n      )}\n\n      <TextField\n        id='outlined-helperText2'\n        label='Metadata Search'\n        fullWidth\n        autoFocus\n        placeholder='...'\n        className={classes.textField}\n        margin='normal'\n        variant='outlined'\n        onKeyDown={handleKeyPress}\n        onChange={(event) => {\n          setSearchParamsTmp({ ...searchParamsTmp, metaStr: event.target.value })\n        }}\n      />\n      {advancedVals.length > 0 && (\n        <div className={classes.advanced}>\n          {advancedVals.map((row, rid) => (\n            <AdvancedRow\n              key={`advRow-${rid}`}\n              classes={classes}\n              row={row}\n              options={allAdvancedOptions.filter(ao => {\n                return !advancedVals.find((row, idx) => idx !== rid && row[0] === ao.name)\n              })}\n              changeHandler={(newRow, forceSubmit) => {\n                const newAdvanced = [...advancedVals]\n                newAdvanced[rid] = newRow\n                setAdvancedVals(newAdvanced)\n                if (forceSubmit) submitSearch(null, newAdvanced)\n              }} />\n          ))}\n          <div>\n            <Button onClick={() => submitSearch(null, [...advancedVals, ['', '']])}>+</Button>\n            <Button onClick={() => submitSearch(null, advancedVals.slice(0, -1))}>-</Button>\n          </div>\n        </div>\n      )}\n      <div className={classes.actionBar}>\n        <Button color='primary' onClick={toggleAdvanced}>{advancedVals.length > 0 ? 'Hide' : 'Show'} Advanced</Button>\n        <div className={classes.spacer} />\n        <Button\n          className={classes.iconButton}\n          color='primary'\n          variant='contained'\n          onClick={() => {\n            submitSearch(searchParamsTmp)\n          }}\n        >\n          <SearchIcon /> Search\n        </Button>\n        <Button\n          className={classes.iconButton}\n          color='secondary'\n          variant='contained'\n          onClick={() => {\n            setAdvancedVals([])\n            submitSearch(appDefaults.searchDefaultParams)\n          }}\n        >\n              Reset\n        </Button>\n\n      </div>\n    </Paper>\n\n  )\n}\n\nexport default SearchForm\n\nSearchForm.propTypes = {\n  projTotals: PropTypes.object\n}\n\nconst useStylesAdv = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  advancedLeft: {\n    flex: '1 1 30%',\n    height: theme.spacing(4),\n    marginRight: theme.spacing(1)\n  },\n  advancedLeftCustom: {\n    textAlign: 'center'\n  },\n  advancedLeftOption: {\n  },\n  advancedText: {\n    flex: '1 1 70%'\n  },\n  advancedRight: {\n    flex: '1 1 70%'\n  },\n  advancedOp: {\n    display: 'flex'\n  },\n  advancedTextCustomName: {\n    flex: '1 1 30%',\n    marginRight: theme.spacing(1)\n  },\n  advancedTextCustomValue: {\n    flex: '1 1 40%'\n  },\n  advancedOpName: {\n    flexGrow: 1\n  },\n\n  advancedOpNamId: {\n\n  },\n  advancedInput: {\n    height: theme.spacing(4)\n  }\n}))\n\nconst AdvancedRow = ({ row, options, changeHandler }) => {\n  const classes = useStylesAdv()\n  const [mKey, mVal] = row\n  const [err, setErr] = useState()\n\n  const option = mKey && mKey.length > 0 && options.find(o => o.name.toLowerCase() === mKey.toLowerCase())\n  const hasSetVals = option && option.Allow && !!option.Allow.find(o => o.attr.name.toLowerCase() && o.attr.name.length > 0)\n\n  const validate = (key, val) => {\n    // regex validation\n    if (val && val.length > 0 && option && !hasSetVals) {\n      const allowRegex = option.AllowRegex.filter(o => o.attr.pattern)\n      if (allowRegex && allowRegex.length > 0) {\n        const errs = []\n        allowRegex.forEach(regex => {\n          console.log(regex)\n          const pattern = new RegExp(regex.attr.pattern)\n          const hasError = !val.match(pattern)\n          if (hasError) {\n            errs.push(pattern)\n          }\n        })\n        // Bail on the query if there are any errors. Display them in the error column\n        if (errs.length > 0) {\n          if (errs.length === 1) setErr(`Value must match pattern: '${errs[0]}'`)\n          else {\n            setErr(errs.reduce((acc, err, idx) => acc + idx > 0 ? ' and ' : '' + err, 'Value must match patterns: '))\n          }\n          return false\n        }\n      }\n    }\n    setErr(null)\n    console.log('CHANGING VALUES', [key, val])\n    if (key.toLowerCase() !== mKey.toLowerCase() || val.toLowerCase() !== mVal.toLowerCase()) {\n      changeHandler([key, val])\n    }\n  }\n\n  const debouncedValidate = util.debounce(validate, 500)\n\n  const handleKeyPress = keyCode => {\n    if (keyCode === 13 && mKey && mKey.length > 0) {\n      console.log('Enter pressed')\n      changeHandler([mKey, mVal], true)\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <FormControl className={classes.advancedLeft}>\n        <Select\n          value={option ? option.name : '__custom'}\n          inputProps={{\n            className: classes.advancedInput\n          }}\n          onChange={event => changeHandler([event.target.value, ''], true)}\n        >\n          <MenuItem key={`aoss-custom`} value='__custom'>\n            <Typography className={classes.advancedLeftCustom} color='textSecondary'>\n              <em>Custom</em>\n            </Typography>\n          </MenuItem>\n          {options.map(({ name }, oid) => (\n            <MenuItem key={`aoss-${oid}`} value={name}>\n              <Typography className={classes.advancedLeftOption}>{name}</Typography>\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {hasSetVals ? (\n        <FormControl className={classes.advancedRight}>\n          <Select\n            value={mVal}\n            inputProps={{\n              className: classes.advancedInput\n            }}\n            onChange={event => changeHandler([mKey, event.target.value], true)}\n          >\n            {option.Allow.map(({ attr }, oid) => {\n              return (\n                <MenuItem className={classes.advancedOp} key={`aooptss-${oid}`} value={attr.id}>\n                  <Typography className={classes.advancedOpName}>{attr.name}</Typography>\n                  {attr.name !== attr.id && (\n                    <Typography variant='caption' className={classes.advancedOpNamId}>{attr.id}</Typography>\n                  )}\n                </MenuItem>\n              )\n            })}\n          </Select>\n        </FormControl>\n      ) : option ? (\n        <TextField\n          error={!!err}\n          label={err}\n          disabled={!mKey || mKey.length === 0}\n          placeholder='...'\n          defaultValue={mVal}\n          className={classes.advancedText}\n          inputProps={{\n            className: classes.advancedInput\n          }}\n          onKeyDown={e => handleKeyPress(e.keyCode)}\n          onChange={e => debouncedValidate(mKey, e.target.value)}\n        />\n      ) : (\n        <React.Fragment>\n          <TextField\n            placeholder='Meta Name'\n            defaultValue=''\n            className={classes.advancedTextCustomName}\n            inputProps={{\n              className: classes.advancedInput\n            }}\n            onKeyDown={e => handleKeyPress(e.keyCode)}\n            onChange={e => debouncedValidate(e.target.value, mVal)}\n          />\n          <TextField\n            placeholder='Meta Value'\n            defaultValue=''\n            className={classes.advancedTextCustomValue}\n            inputProps={{\n              className: classes.advancedInput\n            }}\n            onKeyDown={e => handleKeyPress(e.keyCode)}\n            onChange={e => debouncedValidate(mKey, e.target.value)}\n          />\n        </React.Fragment>\n      )}\n    </div>\n  )\n}\n\nAdvancedRow.propTypes = {\n  row: PropTypes.array,\n  options: PropTypes.array,\n  changeHandler: PropTypes.func\n}\n","import React, { useState, useEffect, useRef, useContext } from 'react'\nimport SearchForm from './SearchForm'\n// import PropTypes from 'prop-types'\nimport { AppContext } from '../../contexts'\nimport { api } from '@riverscapes/common'\n\nconst SearchFormConnect = () => {\n  const [projTotals, setProjTotals] = useState({})\n  const projTotalsRef = useRef()\n  projTotalsRef.current = projTotals\n  const { jwt, url, program } = useContext(AppContext)\n\n  useEffect(() => {\n    if (program && jwt && url) {\n      // The initial search is just to get at the total value\n      api.search(url, jwt, program.machineName, { limit: 0 })\n        .then(({ data }) => setProjTotals({ ...projTotalsRef.current, __all: data.search ? data.search.total : 0 }))\n        .catch((err) => {\n          console.error(err)\n        })\n      // HEre's where we get the product totals\n      Object.keys(program.products)\n        .reduce((promiseChain, projId) => {\n          const currTask = () => api.search(url, jwt, program.machineName, { projType: projId, limit: 0 })\n            .then(({ data }) => {\n              setProjTotals({ ...projTotalsRef.current, [projId]: data.search ? data.search.total : 0 })\n            })\n            .catch((err) => {\n              setProjTotals({ ...projTotalsRef.current, [projId]: 0 })\n              console.error(err)\n            })\n          return promiseChain.then(currTask)\n        }, Promise.resolve())\n    }\n  }, [program, jwt, url])\n\n  return <SearchForm projTotals={projTotals} />\n}\n\nexport default SearchFormConnect\n","import React, { useContext } from 'react'\n// import PropTypes from 'prop-types'\nimport Paper from '@material-ui/core/Paper'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\n// import MenuIcon from '@material-ui/icons/Menu'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { AppContext } from '../contexts'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(2)\n  }\n}))\n\nconst ProgramChooser = () => {\n  const classes = useStyles()\n  const { programs, navigateProgram } = useContext(AppContext)\n  return (\n    <Paper className={classes.root} elevation={1}>\n      <Typography variant='subtitle1'>\n      Choose a program:\n      </Typography>\n      <List>\n        {programs && programs.map((p, idx) => (\n          <ListItem key={`progKey-${idx}`} button divider onClick={() => navigateProgram(p.machineName)}>\n            <ListItemAvatar>\n              <Avatar alt='programname'>\n                {p.name.substr(0, 1)}\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText primary={p.name} />\n          </ListItem>\n        ))}\n      </List>\n    </Paper>\n  )\n}\n\n// ProgramChooser.propTypes = {\n//   prop1: PropTypes.object.isRequired\n// }\n\nexport default ProgramChooser\n","import React from 'react'\n// import PropTypes from 'prop-types'\nimport Container from '@material-ui/core/Container'\n// import MenuIcon from '@material-ui/icons/Menu'\nimport { makeStyles } from '@material-ui/core/styles'\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'right'\n  }\n}))\n\nconst Footer = () => {\n  const classes = useStyles()\n  return (\n    <Container className={classes.root} maxWidth='md'>\n      <img className={classes.logo} alt='footer' src={process.env.PUBLIC_URL + '/cc-watermarks-riverscapes_orig.png'} />\n    </Container>\n  )\n}\n\n// Footer.propTypes = {\n//   prop1: PropTypes.object.isRequired\n// }\n\nexport default Footer\n","import React, { useContext } from 'react'\nimport Topbar from './Topbar'\nimport { makeStyles, CssBaseline, Container } from '@material-ui/core'\n\nimport { AppContext } from '../contexts'\nimport ResultsPaneConnect from './SearchResults/SearchResults.connect'\nimport SearchFormConnect from './SearchForm/SearchForm.connect'\nimport ProgramChooser from './ProgramChooser'\nimport Footer from './Footer'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%',\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  inner: {\n    flexGrow: 1,\n    overflowX: 'hidden',\n    overflowY: 'scroll',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  spacer: {\n    flex: '1 1'\n  }\n}))\n\n/**\n * This is the over-arching wrapper for the app. It combines all the\n * same place. Time will tell if that's a good strategy.\n */\nconst App = () => {\n  const { program } = useContext(AppContext)\n  const classes = useStyles()\n  return (\n\n    <div className={classes.root}>\n      <CssBaseline />\n      <Topbar />\n      <div className={classes.inner}>\n        {!program ? (\n          <Container maxWidth='sm'>\n            <ProgramChooser />\n          </Container>\n        ) : (\n          <Container maxWidth='md'>\n            <React.Fragment>\n              <SearchFormConnect />\n              <ResultsPaneConnect />\n            </React.Fragment>\n          </Container>\n        )}\n        <div className={classes.spacer} />\n        <Footer />\n      </div>\n    </div>\n\n  )\n}\n\nexport default App\n","import { createMuiTheme } from '@material-ui/core/styles'\n// import { fade } from '@material-ui/core/styles/colorManipulator'\n\n// We need this so that it doesn't freak out abotu old variants\nconst typography = {\n  useNextVariants: true\n}\n\n// const overrides = {\n//   // Name of the component ⚛️\n//   MuiDialog: {\n//     paper: {\n//       '@media (max-width:321px)': {\n//         margin: 10\n//       }\n//     },\n//     paperFullWidth: {\n//       '@media (max-width:321px)': {\n//         width: 'calc(100% - 20px)'\n//       }\n//     }\n//   }\n// }\n// #da8044\nconst colors = {\n  orange: '#ED7E32',\n  yellow: '#EDA932',\n  blue: '#2D589D',\n  red: '#E43045'\n}\n\nconst home = {\n  palette: {\n    primary: {\n      main: colors.blue\n    },\n    secondary: {\n      main: colors.orange\n    },\n    text: {\n      // primary: colors.jet,\n      // secondary: fade(colors.jet, 0.7)\n    }\n  },\n  typography\n  // overrides\n}\n\nexport default {\n  home: createMuiTheme(home)\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { useAuthentication, Loading } from '@riverscapes-client/auth'\nimport { api } from '@riverscapes/common'\nimport _ from 'lodash'\nimport { AppContext } from '../contexts'\nimport App from './App'\nimport { endpoints, aws, appDefaults, mandatoryMetaColors } from '../config'\nimport themes from '../themes'\n\n/**\n * This is the over-arching wrapper for the app. It combines all the\n * same place. Time will tell if that's a good strategy.\n */\nconst AppConnect = ({ location, history }) => {\n  const [program, setProgram] = useState()\n  const [programs, setPrograms] = useState()\n  const [pendingZips, setPendingZips] = useState({})\n  const pendingZipsRef = useRef()\n  pendingZipsRef.current = pendingZips\n\n  const [isLoading, setIsLoading] = useState(false)\n  const [searchParams, setSearchParams] = useState(appDefaults.searchDefaultParams) // maybe context?\n  const { signedIn, authData, signOut, authScreen } = useAuthentication(aws)\n\n  const reset = () => {\n    setProgram(null)\n    setSearchParams(appDefaults.searchDefaultParams)\n  }\n\n  let progMachineName = ''\n  try {\n    progMachineName = location.pathname.split('/').filter(s => s.length > 0)[0]\n  }\n  catch {}\n\n  const downloadFile = ({ projType, id }, key) => {\n    return api.downloadFile(endpoints.graphql, context.jwt, projType, program.machineName, id, key)\n      .then(data => {\n        try {\n          window.open(data.data.downloadFile.downloadUrl, '_self')\n        }\n        catch (err) {\n          console.log('DOWNLOAD err', err)\n        }\n      })\n      .catch(err => {\n        console.log('DOWNLOAD err', err)\n      })\n  }\n\n  const downloadZipFile = ({ projType, id }) => {\n    const checkZipFunc = async () => {\n      const data = await api.downloadZipFile(endpoints.graphql, context.jwt, projType, program.machineName, id)\n        .catch(err => {\n          console.log('DOWNLOAD err', err)\n        })\n      console.log(data)\n      try {\n        if (!data.data.downloadZip.pendingSince) {\n          setPendingZips(\n            _.pickBy(pendingZipsRef.current, (val, key) => key !== id)\n          )\n          window.open(data.data.downloadZip.downloadUrl, '_self')\n        }\n        else {\n          setPendingZips({\n            ...pendingZipsRef.current,\n            [id]: data.data.downloadZip.pendingSince\n          })\n          setTimeout(checkZipFunc, 5000)\n        }\n      }\n      catch (err) {\n        console.log('DOWNLOAD err', err)\n      }\n    }\n\n    // try once\n    return checkZipFunc()\n  }\n\n  const context = {\n    jwt: authData && authData.signInUserSession && authData.signInUserSession.accessToken.jwtToken,\n    url: endpoints.graphql,\n    program,\n    searchParams,\n    setSearchParams,\n    programs,\n    downloadFile,\n    downloadZipFile,\n    pendingZips,\n    navigateProgram: pName => history.push('/' + pName),\n    signOut,\n    location,\n    history\n  }\n\n  useEffect(() => {\n    reset()\n    api.getPrograms(endpoints.graphql).then(allPrograms => {\n      console.log('API GetPrograms', allPrograms)\n      if (allPrograms.data && allPrograms.data.programs) {\n        setPrograms(allPrograms.data.programs)\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    reset()\n    const fetchData = async () => {\n      if (!progMachineName || progMachineName.length === 0) return\n      setIsLoading(true)\n      if (programs && programs.length > 0) {\n        const program = programs.find(p => p.machineName === progMachineName)\n        if (program) {\n          program.definitions.Collections = program.definitions.Collections.map((c, idx) => ({\n            ...c,\n            color: mandatoryMetaColors[idx % mandatoryMetaColors.length]\n          }))\n          setProgram(program)\n        }\n      }\n      else {\n        reset()\n      }\n      setIsLoading(false)\n    }\n    fetchData()\n  }, [progMachineName, programs, context.url])\n\n  const showSignin = (programs && program && signedIn === null)\n\n  return (\n    <ThemeProvider theme={themes.home}>\n      {!programs && <Loading message='Loading program list...' />}\n      {showSignin && authScreen}\n      {programs && signedIn && isLoading && <Loading message='Loading program...' />}\n      {!showSignin && !isLoading && (\n        <AppContext.Provider value={context}>\n          <App />\n        </AppContext.Provider>\n      )}\n    </ThemeProvider>\n  )\n}\nAppConnect.propTypes = {\n  location: PropTypes.object,\n  history: PropTypes.object\n}\n\nexport default AppConnect\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App.connect'\nimport { HashRouter, Route } from 'react-router-dom'\n\nimport * as serviceWorker from './serviceWorker'\n// Here's our global overrides css\nimport './index.css'\n\n// This is the font we need\nrequire('typeface-roboto')\n\nReactDOM.render(\n  <HashRouter basename='/'>\n    <Route path='*' component={App} />\n  </HashRouter>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Snackbar = _interopRequireDefault(require(\"@material-ui/core/Snackbar\"));\n\nvar _SnackbarContent = _interopRequireDefault(require(\"@material-ui/core/SnackbarContent\"));\n\nvar _Typography = _interopRequireDefault(require(\"@material-ui/core/Typography\"));\n\nvar _Email = _interopRequireDefault(require(\"@material-ui/icons/Email\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar useStyles = (0, _styles.makeStyles)(function (theme) {\n  return {\n    root: {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.main\n    },\n    checkEmailMsgIco: {\n      marginRight: theme.spacing(1)\n    },\n    checkEmailMsgTxt: {\n      textAlign: 'left',\n      flexGrow: 1\n    },\n    checkEmailMsg: {\n      display: 'flex'\n    }\n  };\n});\n\nvar CheckemailMsg = function CheckemailMsg(_ref) {\n  var onResend = _ref.onResend,\n      open = _ref.open;\n  var classes = useStyles();\n  return _react.default.createElement(_Snackbar.default, {\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    open: open\n  }, _react.default.createElement(_SnackbarContent.default, {\n    className: classes.root,\n    message: _react.default.createElement(\"div\", {\n      className: classes.checkEmailMsg\n    }, _react.default.createElement(_Email.default, {\n      className: classes.checkEmailMsgIco,\n      color: \"inherit\"\n    }), _react.default.createElement(_Typography.default, {\n      className: classes.checkEmailMsgTxt,\n      color: \"inherit\"\n    }, \"Code Sent Check your email\")),\n    action: onResend && [_react.default.createElement(_Button.default, {\n      key: \"undo\",\n      color: \"secondary\",\n      size: \"small\",\n      variant: \"contained\",\n      onClick: onResend\n    }, \"Resend\")]\n  }));\n};\n\nCheckemailMsg.propTypes = {\n  onResend: _propTypes.default.func,\n  open: _propTypes.default.bool\n};\nvar _default = CheckemailMsg;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAuthentication = exports.useAuthCommon = exports.VerifyContact = exports.SignUp = exports.SignIn = exports.RequireNewPassword = exports.PasswordHelper = exports.Loading = exports.ForgotPassword = exports.ConfirmSignUp = exports.ConfirmSignIn = exports.CheckemailMsg = exports.AuthPhoneNum = exports.AuthContainer = void 0;\n\nvar AuthContainer = require('./AuthContainer').default;\n\nexports.AuthContainer = AuthContainer;\n\nvar AuthPhoneNum = require('./AuthPhoneNum').default;\n\nexports.AuthPhoneNum = AuthPhoneNum;\n\nvar CheckemailMsg = require('./CheckemailMsg').default;\n\nexports.CheckemailMsg = CheckemailMsg;\n\nvar ConfirmSignIn = require('./ConfirmSignIn').default;\n\nexports.ConfirmSignIn = ConfirmSignIn;\n\nvar ConfirmSignUp = require('./ConfirmSignUp').default;\n\nexports.ConfirmSignUp = ConfirmSignUp;\n\nvar ForgotPassword = require('./ForgotPassword').default;\n\nexports.ForgotPassword = ForgotPassword;\n\nvar Loading = require('./Loading').default;\n\nexports.Loading = Loading;\n\nvar PasswordHelper = require('./PasswordHelper').default;\n\nexports.PasswordHelper = PasswordHelper;\n\nvar RequireNewPassword = require('./RequireNewPassword').default;\n\nexports.RequireNewPassword = RequireNewPassword;\n\nvar SignIn = require('./SignIn').default;\n\nexports.SignIn = SignIn;\n\nvar SignUp = require('./SignUp').default;\n\nexports.SignUp = SignUp;\n\nvar VerifyContact = require('./VerifyContact').default;\n\nexports.VerifyContact = VerifyContact;\n\nvar useAuthCommon = require('./useAuthCommon').default;\n\nexports.useAuthCommon = useAuthCommon;\n\nvar useAuthentication = require('./useAuthentication').default;\n\nexports.useAuthentication = useAuthentication;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Chip = _interopRequireDefault(require(\"@material-ui/core/Chip\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _colors = require(\"@material-ui/core/colors\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar useStyles = (0, _styles.makeStyles)(function (theme) {\n  return {\n    root: {\n      display: 'flex'\n    },\n    chipContainer: {\n      flex: '1 1'\n    },\n    chip: {\n      height: theme.spacing(2.5)\n    },\n    label: {\n      padding: theme.spacing(0, 1, 0, 1)\n    },\n    ok: {\n      color: 'white',\n      background: _colors.green[500],\n      border: \"1px solid \".concat(_colors.green[500])\n    },\n    bad: {\n      color: theme.palette.error.main,\n      background: 'transparent',\n      border: \"1px solid \".concat(theme.palette.error.main)\n    }\n  };\n});\n\nvar PasswordHelper = function PasswordHelper(_ref) {\n  var pword = _ref.pword;\n  var classes = useStyles();\n  var hasUpper = pword ? !!pword.match(/[A-Z]/) : false;\n  var hasLower = pword ? !!pword.match(/[a-z]/) : false;\n  var hasNum = pword ? !!pword.match(/[0-9]/) : false;\n  var hasSpecial = pword ? !!pword.match(/[!@#$%^&*(),.?'\":;{}\\[\\]\\-_=+|/\\\\`~<>]/) : false;\n  var enoughChars = pword ? pword.length >= 8 : false;\n  return _react.default.createElement(\"div\", {\n    className: classes.root\n  }, _react.default.createElement(SpecialChip, {\n    ok: enoughChars,\n    label: \"8+\"\n  }), _react.default.createElement(SpecialChip, {\n    ok: hasUpper,\n    label: \"A-Z\"\n  }), _react.default.createElement(SpecialChip, {\n    ok: hasLower,\n    label: \"a-z\"\n  }), _react.default.createElement(SpecialChip, {\n    ok: hasNum,\n    label: \"0-9\"\n  }), _react.default.createElement(SpecialChip, {\n    ok: hasSpecial,\n    label: \"!@#$%^&*,.?\"\n  }));\n};\n\nPasswordHelper.propTypes = {\n  pword: _propTypes.default.string\n};\nvar _default = PasswordHelper;\nexports.default = _default;\n\nvar SpecialChip = function SpecialChip(_ref2) {\n  var ok = _ref2.ok,\n      props = _objectWithoutProperties(_ref2, [\"ok\"]);\n\n  var classes = useStyles();\n  return _react.default.createElement(\"div\", {\n    className: classes.chipContainer\n  }, _react.default.createElement(_Chip.default, _extends({\n    classes: {\n      root: (0, _classnames.default)(classes.chip, ok ? classes.ok : classes.bad),\n      label: classes.label\n    }\n  }, props)));\n};\n\nSpecialChip.propTypes = {\n  ok: _propTypes.default.bool\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = require(\"react\");\n\nvar useAuthCommon = function useAuthCommon() {\n  var containerRef = (0, _react.useRef)();\n\n  var handleKeyPress = function handleKeyPress(event) {\n    if (event.key === 'Enter') {\n      if (containerRef.current) {\n        try {\n          var found = containerRef.current.getElementsByClassName('enterAction');\n          if (found && found[0]) found[0].click();\n        } catch (e) {\n          console.error('useAuthCommon::handleKeyPress', e);\n        }\n      }\n    }\n  };\n\n  (0, _react.useEffect)(function () {\n    if (containerRef.current) {\n      try {\n        document.addEventListener('keypress', handleKeyPress, false);\n      } catch (e) {\n        console.error('useAuthCommon::useEffect', e);\n      }\n\n      return function () {\n        return document.removeEventListener('keypress', handleKeyPress, false);\n      };\n    }\n  }, []);\n  return containerRef;\n};\n\nvar _default = useAuthCommon;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\n\nvar ConfirmSignIn = function ConfirmSignIn(_ref) {\n  var handleInputChange = _ref.handleInputChange,\n      handleBack = _ref.handleBack,\n      handleConfirm = _ref.handleConfirm;\n  var classes = useStyles();\n  return _react.default.createElement(_AuthContainer.default, null, _react.default.createElement(_TextField.default, {\n    id: \"mfaCode\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"MFA Code\",\n    name: \"code\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    variant: \"contained\",\n    onClick: handleBack\n  }, \"Back\"), _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(_Button.default, {\n    className: \"enterAction\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleConfirm\n  }, \"Confirm\")));\n};\n\nConfirmSignIn.propTypes = {\n  handleInputChange: _propTypes.default.func.isRequired,\n  handleBack: _propTypes.default.func.isRequired,\n  handleConfirm: _propTypes.default.func.isRequired\n};\nvar _default = ConfirmSignIn;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Typography = _interopRequireDefault(require(\"@material-ui/core/Typography\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nvar _CheckemailMsg = _interopRequireDefault(require(\"./CheckemailMsg\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\n\nvar ConfirmSignUp = function ConfirmSignUp(_ref) {\n  var handleInputChange = _ref.handleInputChange,\n      handleBack = _ref.handleBack,\n      handleResend = _ref.handleResend,\n      handleConfirm = _ref.handleConfirm;\n  var classes = useStyles();\n  return _react.default.createElement(_AuthContainer.default, null, _react.default.createElement(_TextField.default, {\n    id: \"username\",\n    fullWidth: true,\n    autoFocus: true,\n    name: \"username\",\n    label: \"Username\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), _react.default.createElement(_TextField.default, {\n    id: \"confirmationCode\",\n    fullWidth: true,\n    name: \"code\",\n    label: \"Confirmation Code\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), _react.default.createElement(_Typography.default, {\n    variant: \"caption\",\n    style: {\n      textAlign: 'left'\n    }\n  }, \"If you can't find it in your inbox be sure to check your spam folder.\"), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: handleBack\n  }, \"Back\"), _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(_Button.default, {\n    color: \"primary\",\n    variant: \"contained\",\n    className: \"enterAction\",\n    onClick: handleConfirm\n  }, \"Confirm\")), _react.default.createElement(_CheckemailMsg.default, {\n    open: true,\n    onResend: handleResend\n  }));\n};\n\nConfirmSignUp.propTypes = {\n  handleInputChange: _propTypes.default.func.isRequired,\n  handleBack: _propTypes.default.func.isRequired,\n  handleResend: _propTypes.default.func.isRequired,\n  handleConfirm: _propTypes.default.func.isRequired\n};\nvar _default = ConfirmSignUp;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Typography = _interopRequireDefault(require(\"@material-ui/core/Typography\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nvar _CheckemailMsg = _interopRequireDefault(require(\"./CheckemailMsg\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\n\nvar ForgotPassword = function ForgotPassword(_ref) {\n  var handleSubmit = _ref.handleSubmit,\n      handleInputChange = _ref.handleInputChange,\n      handleSendCode = _ref.handleSendCode,\n      handleBack = _ref.handleBack;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      sent = _useState2[0],\n      setSent = _useState2[1];\n\n  var classes = useStyles();\n  return _react.default.createElement(_AuthContainer.default, null, _react.default.createElement(_Typography.default, null, \"Forgot Password\"), !sent && _react.default.createElement(_TextField.default, {\n    id: \"username\",\n    autoFocus: true,\n    fullWidth: true,\n    label: \"Username\",\n    name: \"username\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), sent && _react.default.createElement(_TextField.default, {\n    id: \"changecode\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"Code\",\n    name: \"code\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), sent && _react.default.createElement(_Typography.default, {\n    variant: \"caption\",\n    style: {\n      textAlign: 'left'\n    }\n  }, \"If you can't find it in your inbox be sure to check your spam folder.\"), sent && _react.default.createElement(_TextField.default, {\n    id: \"newpassword\",\n    fullWidth: true,\n    label: \"New Password\",\n    className: classes.textField,\n    type: \"password\",\n    name: \"password\",\n    autoComplete: \"current-password\",\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), !sent && _react.default.createElement(_Typography.default, {\n    variant: \"caption\",\n    style: {\n      textAlign: 'left'\n    }\n  }, \"Enter your username and you will be sent an email with a code to reset your password.\"), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: function onClick() {\n      sent ? setSent(false) : handleBack();\n    }\n  }, \"Back\"), _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), !sent && _react.default.createElement(_Button.default, {\n    color: \"primary\",\n    variant: \"contained\",\n    className: \"enterAction\",\n    onClick: function onClick() {\n      setSent(true);\n      handleSendCode();\n    }\n  }, \"Send Code\"), sent && _react.default.createElement(_Button.default, {\n    className: \"enterAction\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleSubmit\n  }, \"Submit\")), _react.default.createElement(_CheckemailMsg.default, {\n    open: sent,\n    onResend: handleSendCode\n  }));\n};\n\nForgotPassword.propTypes = {\n  handleSubmit: _propTypes.default.func.isRequired,\n  handleInputChange: _propTypes.default.func.isRequired,\n  handleSendCode: _propTypes.default.func.isRequired,\n  handleBack: _propTypes.default.func.isRequired\n};\nvar _default = ForgotPassword;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nvar _core = require(\"@material-ui/core\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Loading = function Loading(_ref) {\n  var message = _ref.message;\n  return _react.default.createElement(_AuthContainer.default, null, _react.default.createElement(_core.Typography, {\n    variant: \"h3\"\n  }, \"Loading...\"), message && _react.default.createElement(_core.Typography, {\n    variant: \"overline\"\n  }, message));\n};\n\nLoading.propTypes = {\n  message: _propTypes.default.string\n};\nvar _default = Loading;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Typography = _interopRequireDefault(require(\"@material-ui/core/Typography\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nvar _PasswordHelper = _interopRequireDefault(require(\"./PasswordHelper\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\n\nvar RequireNewPassword = function RequireNewPassword(_ref) {\n  var change = _ref.change,\n      requiredAttributes = _ref.requiredAttributes,\n      placeholders = _ref.placeholders,\n      handleInputChange = _ref.handleInputChange;\n  var classes = useStyles();\n\n  var _useState = (0, _react.useState)(),\n      _useState2 = _slicedToArray(_useState, 2),\n      pword = _useState2[0],\n      setPword = _useState2[1];\n\n  var pwordType = function pwordType(event) {\n    console.log('DEBUG', event.target.value, handleInputChange);\n    setPword(event.target.value);\n    handleInputChange(event);\n  };\n\n  return _react.default.createElement(_AuthContainer.default, null, _react.default.createElement(_Typography.default, null, \"A new password is required\"), _react.default.createElement(_TextField.default, {\n    id: \"newassword\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"New Password\",\n    className: classes.textField,\n    type: \"password\",\n    autoComplete: \"new-password\",\n    margin: \"normal\",\n    onChange: pwordType\n  }), _react.default.createElement(_PasswordHelper.default, {\n    pword: pword\n  }), requiredAttributes.map(function (attribute, idx) {\n    return _react.default.createElement(_TextField.default, {\n      fullWidth: true,\n      key: attribute,\n      name: attribute,\n      className: classes.textField,\n      placeholder: placeholders[idx],\n      type: \"text\",\n      margin: \"normal\",\n      onChange: handleInputChange\n    });\n  }), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    variant: \"contained\"\n  }, \"Back\"), _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(_Button.default, {\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: change,\n    className: \"enterAction\"\n  }, \"Change\")));\n};\n\nRequireNewPassword.propTypes = {\n  change: _propTypes.default.func.isRequired,\n  handleInputChange: _propTypes.default.func.isRequired,\n  requiredAttributes: _propTypes.default.array,\n  placeholders: _propTypes.default.array\n};\nvar _default = RequireNewPassword;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\n\nvar SignIn = function SignIn(_ref) {\n  var loading = _ref.loading,\n      handleSignup = _ref.handleSignup,\n      federated = _ref.federated,\n      handleForgotPassword = _ref.handleForgotPassword,\n      handleInputChange = _ref.handleInputChange,\n      handleBeAnonymous = _ref.handleBeAnonymous,\n      handleSignIn = _ref.handleSignIn,\n      props = _objectWithoutProperties(_ref, [\"loading\", \"handleSignup\", \"federated\", \"handleForgotPassword\", \"handleInputChange\", \"handleBeAnonymous\", \"handleSignIn\"]);\n\n  var classes = useStyles();\n  return _react.default.createElement(_AuthContainer.default, null, _react.default.createElement(_TextField.default, {\n    id: \"username\",\n    fullWidth: true,\n    key: \"username\",\n    name: \"username\",\n    label: \"Username\",\n    color: \"inherit\",\n    autoFocus: true,\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), _react.default.createElement(_TextField.default, {\n    fullWidth: true,\n    id: \"password\",\n    label: \"Password\",\n    color: \"inherit\",\n    key: \"password\",\n    name: \"password\",\n    type: \"password\",\n    className: classes.textField,\n    autoComplete: \"current-password\",\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(_Button.default, {\n    className: \"enterAction\",\n    component: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    disabled: loading,\n    onClick: handleSignIn\n  }, \"Sign In\")), _react.default.createElement(_Button.default, {\n    color: \"primary\",\n    onClick: handleForgotPassword,\n    size: \"small\"\n  }, \"Forgot Password\"));\n};\n\nSignIn.propTypes = {\n  loading: _propTypes.default.bool,\n  federated: _propTypes.default.object,\n  handleSignup: _propTypes.default.func.isRequired,\n  handleForgotPassword: _propTypes.default.func.isRequired,\n  handleInputChange: _propTypes.default.func.isRequired,\n  handleBeAnonymous: _propTypes.default.func.isRequired,\n  handleSignIn: _propTypes.default.func.isRequired\n};\nvar _default = SignIn;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _FormControl = _interopRequireDefault(require(\"@material-ui/core/FormControl\"));\n\nvar _InputLabel = _interopRequireDefault(require(\"@material-ui/core/InputLabel\"));\n\nvar _Select = _interopRequireDefault(require(\"@material-ui/core/Select\"));\n\nvar _PasswordHelper = _interopRequireDefault(require(\"./PasswordHelper\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\n\nvar SignUp = function SignUp(_ref) {\n  var handleInputChange = _ref.handleInputChange,\n      signUpFields = _ref.signUpFields,\n      signUpFieldLabels = _ref.signUpFieldLabels,\n      signUpFieldPlaceholders = _ref.signUpFieldPlaceholders,\n      handleSignup = _ref.handleSignup,\n      handleBack = _ref.handleBack,\n      countryDialCodes = _ref.countryDialCodes,\n      defaultDialCode = _ref.defaultDialCode,\n      props = _objectWithoutProperties(_ref, [\"handleInputChange\", \"signUpFields\", \"signUpFieldLabels\", \"signUpFieldPlaceholders\", \"handleSignup\", \"handleBack\", \"countryDialCodes\", \"defaultDialCode\"]);\n\n  var _useState = (0, _react.useState)(defaultDialCode),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectVal = _useState2[0],\n      setSelectVal = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pword = _useState4[0],\n      setPword = _useState4[1];\n\n  var pwordType = function pwordType(event) {\n    setPword(event.target.value);\n    handleInputChange(event);\n  };\n\n  var classes = useStyles();\n\n  var handleDialCodeChange = function handleDialCodeChange(e) {\n    handleInputChange(e);\n    setSelectVal(e.target.value);\n  };\n\n  return _react.default.createElement(_AuthContainer.default, null, signUpFields.map(function (field, idx) {\n    return field.key !== 'phone_number' ? _react.default.createElement(_react.default.Fragment, {\n      key: field.key\n    }, _react.default.createElement(_TextField.default, {\n      fullWidth: true,\n      autoFocus: signUpFields.findIndex(function (f) {\n        return f.key === field.key;\n      }) === 0,\n      type: field.type,\n      name: field.key,\n      placeholder: signUpFieldPlaceholders[idx],\n      label: signUpFieldLabels[idx],\n      className: classes.textField,\n      margin: \"normal\",\n      onChange: field.key === 'password' ? pwordType : handleInputChange\n    }), field.key === 'password' && _react.default.createElement(_PasswordHelper.default, {\n      pword: pword\n    })) : _react.default.createElement(_FormControl.default, {\n      className: classes.phoneNumDropdown,\n      fullWidth: true,\n      key: \"phonenum\"\n    }, _react.default.createElement(_InputLabel.default, {\n      htmlFor: \"dial_code\",\n      shrink: true\n    }, signUpFieldLabels[idx], field.required ? '*' : ''), _react.default.createElement(\"div\", {\n      className: classes.phoneNumInner\n    }, _react.default.createElement(_Select.default, {\n      value: selectVal,\n      onChange: handleDialCodeChange,\n      inputProps: {\n        name: 'dial_code',\n        id: 'dial_code'\n      }\n    }, countryDialCodes.map(function (dialCode) {\n      return _react.default.createElement(\"option\", {\n        key: dialCode,\n        value: dialCode\n      }, dialCode);\n    })), _react.default.createElement(_TextField.default, {\n      placeholder: signUpFieldPlaceholders[idx],\n      type: \"tel\",\n      fullWidth: true,\n      id: \"phone_line_number\",\n      key: \"phone_line_number\",\n      name: \"phone_line_number\",\n      onChange: handleInputChange\n    })));\n  }), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: handleBack\n  }, \"Back\"), _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(_Button.default, {\n    className: \"enterAction\",\n    component: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleSignup\n  }, \"Create Account\")));\n};\n\nSignUp.propTypes = {\n  handleInputChange: _propTypes.default.func.isRequired,\n  signUpFields: _propTypes.default.array.isRequired,\n  signUpFieldLabels: _propTypes.default.array.isRequired,\n  signUpFieldPlaceholders: _propTypes.default.array.isRequired,\n  countryDialCodes: _propTypes.default.array.isRequired,\n  defaultDialCode: _propTypes.default.string.isRequired,\n  handleSignup: _propTypes.default.func.isRequired,\n  handleBack: _propTypes.default.func.isRequired\n};\nvar _default = SignUp;\nexports.default = _default;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/matt/Work/Git/NAR/riverscapes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getXML = getXML;\nexports.parseProgramXML = parseProgramXML;\nexports.parseProjectXML = parseProjectXML;\nexports.augmentXML = augmentXML;\nexports.buildRSPath = buildRSPath;\nexports.verifyMeta = verifyMeta;\n\nvar _common = require(\"@riverscapes/common\");\n\nvar _xml2js = require(\"xml2js\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _errors = require(\"./errors\");\n\nvar _xmldom = _interopRequireDefault(require(\"xmldom\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction getXML(url) {\n  return (0, _axios[\"default\"])({\n    url: url,\n    method: 'get'\n  }).then(function (result) {\n    if (!result.data) throw new Error('Error retrieving XML file');\n    return result.data;\n  });\n}\n\nfunction parseMeta(metaArr) {\n  return metaArr.reduce(function (acc, _ref) {\n    var val = _ref.val,\n        name = _ref.attr.name;\n    return _objectSpread({}, acc, _defineProperty({}, name, val && val.trim()));\n  }, {});\n}\n\nfunction parseProgramXML(_x) {\n  return _parseProgramXML.apply(this, arguments);\n}\n\nfunction _parseProgramXML() {\n  _parseProgramXML = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(rawXML) {\n    var parsedProgramJSON, retVal, xmlDom;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return (0, _xml2js.parseStringPromise)(rawXML)[\"catch\"](function (err) {\n              throw new _errors.ValidationError('Error parsing XML file. This likely means a broken or unclosed tag.', [err.message]);\n            });\n\n          case 2:\n            parsedProgramJSON = _context.sent;\n            retVal = _common.util.arrToObj(parsedProgramJSON).Program;\n\n            if (retVal.MetaData) {\n              retVal.MetaData = parseMeta(retVal.MetaData);\n            }\n\n            retVal.Definitions = {\n              Collections: retVal.Definitions[0].Collections.map(function (_ref2) {\n                var attr = _ref2.attr,\n                    Allow = _ref2.Allow,\n                    AllowRegex = _ref2.AllowRegex;\n                return _objectSpread({}, attr, {\n                  Allow: Allow,\n                  AllowRegex: AllowRegex\n                });\n              }),\n              Groups: retVal.Definitions[0].Groups.map(function (a) {\n                return a.attr;\n              }),\n              Products: retVal.Definitions[0].Products.map(function (a) {\n                return a.attr;\n              })\n            };\n            xmlDom = new _xmldom[\"default\"].DOMParser().parseFromString(rawXML);\n            retVal.products = _recursePaths(xmlDom, retVal.Definitions);\n            return _context.abrupt(\"return\", retVal);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseProgramXML.apply(this, arguments);\n}\n\nfunction _recursePaths(xmlDom, defs) {\n  var hierarchy = xmlDom.getElementsByTagName('Hierarchy')[0];\n  var products = Array.from(hierarchy.getElementsByTagName('Product'));\n  var prodPaths = {};\n  products.forEach(function (prodEl) {\n    var pathArr = [];\n    var ref = prodEl.getAttribute('ref');\n    var product = defs.Products.find(function (o) {\n      return o.id === ref;\n    });\n    if (!product) throw new Error(\"Product not found for ref='\".concat(ref, \"'\"));\n    var currEl = prodEl.parentNode;\n\n    var _loop = function _loop() {\n      var ref = currEl.getAttribute('ref');\n      pathArr.push({\n        type: currEl.tagName,\n        ref: ref,\n        def: defs[currEl.tagName + 's'].find(function (o) {\n          return o.id === ref;\n        })\n      });\n      currEl = currEl.parentNode;\n    };\n\n    while (currEl && currEl.parentNode && currEl.tagName !== 'Hierarchy') {\n      _loop();\n    }\n\n    prodPaths[product.id] = {\n      product: product,\n      path: pathArr.reverse()\n    };\n  });\n  return prodPaths;\n}\n\nfunction parseProjectXML(_x2) {\n  return _parseProjectXML.apply(this, arguments);\n}\n\nfunction _parseProjectXML() {\n  _parseProjectXML = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(rawXML) {\n    var parsedProjectJSON, retVal;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return (0, _xml2js.parseStringPromise)(rawXML)[\"catch\"](function (err) {\n              throw new _errors.ValidationError('Error parsing XML file. This likely means a broken or unclosed tag.', [err.message]);\n            });\n\n          case 2:\n            parsedProjectJSON = _context2.sent;\n            retVal = _common.util.arrToObj(parsedProjectJSON).Project;\n\n            if (retVal.Warehouse) {\n              retVal.Warehouse = parseMeta(retVal.Warehouse);\n            }\n\n            if (retVal.MetaData) {\n              retVal.MetaData = parseMeta(retVal.MetaData);\n            }\n\n            retVal.rawXML = rawXML;\n            return _context2.abrupt(\"return\", retVal);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _parseProjectXML.apply(this, arguments);\n}\n\nfunction augmentXML(newMeta, xmlfile) {\n  var parsed = new _xmldom[\"default\"].DOMParser().parseFromString(xmlfile);\n  var metadata = parsed.getElementsByTagName('MetaData')[0];\n\n  if (parsed.getElementsByTagName('Warehouse').length > 0) {\n    parsed.removeChild(parsed.getElementsByTagName('Warehouse')[0]);\n  }\n\n  var warehouseNode = parsed.createElement('Warehouse');\n  Object.keys(newMeta).forEach(function (k) {\n    var mNode = parsed.createElement('Meta');\n    mNode.setAttribute('name', k);\n    mNode.appendChild(parsed.createTextNode(newMeta[k]));\n    warehouseNode.appendChild(mNode);\n  });\n  parsed.insertBefore(warehouseNode, metadata);\n  var formatted = new _xmldom[\"default\"].XMLSerializer().serializeToString(parsed);\n  return formatted;\n}\n\nfunction buildRSPath(project, program) {}\n\nfunction verifyMeta(projectXML, programXML) {\n  var projMeta = projectXML.MetaData;\n  var projectDef = programXML.products[projectXML.ProjectType];\n  if (!projectDef) throw new Error(\"No project type '\".concat(projectXML.ProjectType, \"' found in program '\").concat(programXML.name, \"'\"));\n  var collections = projectDef.pathArr.filter(function (f) {\n    return f.type === 'Collection';\n  });\n  return collections.map(function (col) {\n    return {\n      name: col.def.name,\n      value: projMeta[col.def.name]\n    };\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ValidationError = void 0;\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar ValidationError = function (_Error) {\n  _inherits(ValidationError, _Error);\n\n  function ValidationError(message, reasons) {\n    var _this;\n\n    _classCallCheck(this, ValidationError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ValidationError).call(this, message));\n    _this.name = _this.constructor.name;\n    _this.reasons = reasons;\n    Error.captureStackTrace(_assertThisInitialized(_this), _this.constructor);\n    return _this;\n  }\n\n  return ValidationError;\n}(_wrapNativeSuper(Error));\n\nexports.ValidationError = ValidationError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authCheck = authCheck;\nexports.validateProject = validateProject;\nexports.getPrograms = getPrograms;\nexports.getProgram = getProgram;\nexports.getProject = getProject;\nexports.getUploadUrls = getUploadUrls;\nexports.downloadFile = downloadFile;\nexports.downloadZipFile = downloadZipFile;\nexports.search = search;\nexports.apiCall = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _graphql = require(\"graphql\");\n\nvar _graphqlTag = _interopRequireDefault(require(\"graphql-tag\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n      query searchQuery($program: String!, $projType: String, $nameStr: String, $metaStr: String, $metaArr: String, $limit: Int, $nextToken: Int) {\\n        search(program: $program, projType: $projType, nameStr: $nameStr, metaStr: $metaStr, metaArr: $metaArr, limit: $limit, nextToken: $nextToken) {\\n          projects {\\n            id\\n            name\\n            projType\\n            program\\n            createdBy\\n            updatedBy\\n            createdOn\\n            updatedOn\\n            meta\\n            score\\n            files {\\n              key\\n              size\\n            }            \\n          }\\n          nextToken\\n          total\\n        }\\n      }\\n  \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n    query downloadZipFileQuery(\\n      $program: String!, \\n      $id: ID!,\\n      $projType: String!\\n      ) {\\n        downloadZip(program: $program, id: $id, projType: $projType) {\\n            key\\n            md5\\n            contentType\\n            size\\n            downloadUrl          \\n            pendingSince\\n        }\\n      }\\n      \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    query downloadFileQuery(\\n      $program: String!, \\n      $id: ID!,\\n      $projType: String!, \\n      $filePath: String!, \\n      ) {\\n        downloadFile(program: $program, id: $id, projType: $projType, filePath: $filePath) {\\n            key\\n            md5\\n            contentType\\n            size\\n            downloadUrl          \\n        }\\n      }\\n      \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    query requestUploadProject(\\n      $id: ID, \\n      $files: [String!], \\n      $program: String!, \\n      $projectType: String!\\n      ) {\\n        requestUpload(id: $id, files: $files, program: $program, projectType: $projectType) {\\n          id\\n          uploadUrls {\\n            url\\n            fields\\n            origPath\\n          }\\n        }\\n      }\\n      \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    query getProject( $id: ID!, $program: String! ) {\\n      project(id: $id, program: $program) {\\n          id\\n          name\\n          projType\\n          program\\n          createdBy\\n          updatedBy\\n          createdOn\\n          updatedOn\\n          meta\\n          files {\\n            key\\n            md5\\n            size\\n            downloadUrl\\n          }\\n        }\\n      }\\n      \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      query program ($program: String!){\\n        program(program: $program) {\\n          name\\n          machineName\\n          products {\\n            id\\n            name\\n            folder\\n            pathArr\\n          }\\n          hierarchy\\n          meta\\n          hierarchy\\n          definitions\\n        }\\n      }\\n      \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      query programs {\\n        programs{\\n          name\\n          machineName\\n          products {\\n            id\\n            name\\n            folder\\n            pathArr\\n          }\\n          hierarchy\\n          meta\\n          hierarchy\\n          definitions\\n        }\\n      }\\n      \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    query validateProject(\\n      $xml: String!, \\n      $program: String!, \\n      ) {\\n        validate(xml: $xml, program: $program) {\\n          result\\n          xmlErrors\\n        }\\n      }\\n      \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        query AuthCall {\\n            auth {\\n              loggedIn\\n              userPool\\n              clientId\\n              region\\n            }\\n          }\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nvar apiCall = function apiCall(url, jwt, query, variables) {\n  return (0, _axios[\"default\"])({\n    url: url,\n    method: 'post',\n    headers: jwt ? {\n      authorization: \"Bearer \".concat(jwt)\n    } : null,\n    data: {\n      query: (0, _graphql.print)(query),\n      variables: variables\n    }\n  }).then(function (_ref) {\n    var axiosData = _ref.data;\n    return axiosData;\n  })[\"catch\"](function (err) {\n    if (err.response && err.response.status === 404) {\n      throw new Error(\"API Url not found: \".concat(url));\n    } else if (err.code && err.code === 'ECONNREFUSED') {\n      throw new Error(\"Connection refused. Could not contact: '\".concat(url, \"'\"));\n    } else {\n      console.error({\n        url: url,\n        jwt: jwt,\n        query: (0, _graphql.print)(query),\n        variables: variables\n      });\n      throw err;\n    }\n  });\n};\n\nexports.apiCall = apiCall;\n\nfunction authCheck(url, jwt) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject()), {});\n}\n\nfunction validateProject(url, jwt, xml, program) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject2()), {\n    xml: xml,\n    program: program\n  });\n}\n\nfunction getPrograms(url) {\n  return apiCall(url, null, (0, _graphqlTag[\"default\"])(_templateObject3())).then(function (_ref2) {\n    var programs = _ref2.data.programs,\n        errors = _ref2.errors;\n    return {\n      data: {\n        programs: programs ? programs.map(function (program) {\n          return _objectSpread({}, program, {\n            products: program.products.reduce(function (acc, prod) {\n              return _objectSpread({}, acc, _defineProperty({}, prod.id, _objectSpread({}, prod, {\n                pathArr: JSON.parse(prod.pathArr)\n              })));\n            }, {}),\n            meta: JSON.parse(program.meta),\n            hierarchy: JSON.parse(program.hierarchy),\n            definitions: JSON.parse(program.definitions)\n          });\n        }) : null\n      },\n      errors: errors\n    };\n  });\n}\n\nfunction getProgram(url, program) {\n  return apiCall(url, null, (0, _graphqlTag[\"default\"])(_templateObject4()), {\n    program: program\n  }).then(function (_ref3) {\n    var program = _ref3.data.program,\n        errors = _ref3.errors;\n    return {\n      data: {\n        program: program ? _objectSpread({}, program, {\n          products: program.products.reduce(function (acc, prod) {\n            return _objectSpread({}, acc, _defineProperty({}, prod.id, _objectSpread({}, prod, {\n              pathArr: JSON.parse(prod.pathArr)\n            })));\n          }, {}),\n          meta: JSON.parse(program.meta),\n          hierarchy: JSON.parse(program.hierarchy),\n          definitions: JSON.parse(program.definitions)\n        }) : null\n      },\n      errors: errors\n    };\n  });\n}\n\nfunction getProject(url, jwt, id, program) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject5()), {\n    id: id,\n    program: program\n  }).then(function (_ref4) {\n    var project = _ref4.data.project,\n        errors = _ref4.errors;\n    return {\n      data: {\n        project: project ? _objectSpread({}, project, {\n          meta: JSON.parse(project.meta)\n        }) : null\n      },\n      errors: errors\n    };\n  });\n}\n\nfunction getUploadUrls(url, jwt, id, fileList, projectType, program) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject6()), {\n    id: id,\n    files: fileList,\n    projectType: projectType,\n    program: program\n  }).then(function (response) {\n    return response;\n  });\n}\n\nfunction downloadFile(url, jwt, projType, program, id, filePath) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject7()), {\n    projType: projType,\n    program: program,\n    id: id,\n    filePath: filePath\n  }).then(function (response) {\n    return response;\n  });\n}\n\nfunction downloadZipFile(url, jwt, projType, program, id) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject8()), {\n    projType: projType,\n    program: program,\n    id: id\n  }).then(function (response) {\n    return response;\n  });\n}\n\nfunction search(url, jwt, program, params) {\n  return apiCall(url, jwt, (0, _graphqlTag[\"default\"])(_templateObject9()), _objectSpread({}, params, {\n    program: program\n  })).then(function (_ref5) {\n    var search = _ref5.data.search,\n        errors = _ref5.errors;\n    return {\n      data: {\n        search: search ? _objectSpread({}, search, {\n          projects: search.projects.map(function (p) {\n            return _objectSpread({}, p, {\n              meta: JSON.parse(p.meta)\n            });\n          })\n        }) : null\n      },\n      errors: errors\n    };\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactTextMask = _interopRequireDefault(require(\"react-text-mask\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _Input = _interopRequireDefault(require(\"@material-ui/core/Input\"));\n\nvar _InputLabel = _interopRequireDefault(require(\"@material-ui/core/InputLabel\"));\n\nvar _FormControl = _interopRequireDefault(require(\"@material-ui/core/FormControl\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar useStyles = (0, _styles.makeStyles)(function (theme) {\n  return {\n    root: {\n      margin: theme.spacing(1)\n    }\n  };\n});\n\nvar TextMaskCustom = function TextMaskCustom(props) {\n  var inputRef = props.inputRef,\n      other = _objectWithoutProperties(props, [\"inputRef\"]);\n\n  return _react.default.createElement(_reactTextMask.default, _extends({}, other, {\n    ref: function ref(_ref) {\n      inputRef(_ref ? _ref.inputElement : null);\n    },\n    mask: ['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/],\n    placeholderChar: \"\\u2000\",\n    showMask: true\n  }));\n};\n\nTextMaskCustom.propTypes = {\n  inputRef: _propTypes.default.func.isRequired\n};\n\nvar AuthPhoneNum = function AuthPhoneNum(_ref2) {\n  var label = _ref2.label,\n      handleChange = _ref2.handleChange,\n      value = _ref2.value;\n  var classes = useStyles();\n  return _react.default.createElement(_FormControl.default, {\n    className: classes.root\n  }, _react.default.createElement(_InputLabel.default, {\n    htmlFor: \"formatted-text-mask-input\"\n  }, label), _react.default.createElement(_Input.default, {\n    value: value,\n    onChange: function onChange(e) {\n      return handleChange(e.target.value);\n    },\n    id: \"formatted-text-mask-input\",\n    inputComponent: TextMaskCustom\n  }));\n};\n\nAuthPhoneNum.propTypes = {\n  label: _propTypes.default.string,\n  handleChange: _propTypes.default.func.isRequired,\n  value: _propTypes.default.string\n};\nvar _default = AuthPhoneNum;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextField = _interopRequireDefault(require(\"@material-ui/core/TextField\"));\n\nvar _Typography = _interopRequireDefault(require(\"@material-ui/core/Typography\"));\n\nvar _Button = _interopRequireDefault(require(\"@material-ui/core/Button\"));\n\nvar _Tabs = _interopRequireDefault(require(\"@material-ui/core/Tabs\"));\n\nvar _Tab = _interopRequireDefault(require(\"@material-ui/core/Tab\"));\n\nvar _Toolbar = _interopRequireDefault(require(\"@material-ui/core/Toolbar\"));\n\nvar _Phone = _interopRequireDefault(require(\"@material-ui/icons/Phone\"));\n\nvar _Email = _interopRequireDefault(require(\"@material-ui/icons/Email\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _auth = _interopRequireDefault(require(\"./auth.style\"));\n\nvar _AuthContainer = _interopRequireDefault(require(\"./AuthContainer\"));\n\nvar _CheckemailMsg = _interopRequireDefault(require(\"./CheckemailMsg\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useStyles = (0, _styles.makeStyles)(_auth.default);\nvar RADIO = {\n  EMAIL: 0,\n  PHONE: 1\n};\n\nvar VerifyContact = function VerifyContact(_ref) {\n  var onBack = _ref.onBack,\n      hasEmail = _ref.hasEmail,\n      hasPhone = _ref.hasPhone,\n      handleSkip = _ref.handleSkip,\n      handleVerify = _ref.handleVerify,\n      handleSubmit = _ref.handleSubmit,\n      handleInputChange = _ref.handleInputChange;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      sent = _useState2[0],\n      setSent = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(RADIO.EMAIL),\n      _useState4 = _slicedToArray(_useState3, 2),\n      radioVal = _useState4[0],\n      setRadioVal = _useState4[1];\n\n  var classes = useStyles();\n  return _react.default.createElement(_AuthContainer.default, null, !sent && _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Typography.default, null, \"Verify your Contact\"), _react.default.createElement(_Typography.default, null, \"Account recovery requires verified contact information\"), _react.default.createElement(_Tabs.default, {\n    className: classes.switch,\n    indicatorColor: \"primary\",\n    value: radioVal,\n    onChange: function onChange(e, val) {\n      return setRadioVal(val);\n    },\n    textColor: \"primary\",\n    centered: true\n  }, _react.default.createElement(_Tab.default, {\n    icon: _react.default.createElement(_Email.default, null),\n    label: \"Email\"\n  }), _react.default.createElement(_Tab.default, {\n    icon: _react.default.createElement(_Phone.default, null),\n    label: \"Phone\"\n  })), radioVal === RADIO.EMAIL && _react.default.createElement(_TextField.default, {\n    id: \"email\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"Email Address\",\n    className: classes.textField,\n    onChange: handleInputChange,\n    margin: \"normal\"\n  }), radioVal === RADIO.PHONE && _react.default.createElement(_TextField.default, {\n    id: \"phonenum\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"Phone Number\",\n    className: classes.textField,\n    onChange: handleInputChange,\n    margin: \"normal\"\n  })), sent && _react.default.createElement(_TextField.default, {\n    fullWidth: true,\n    label: \"Code\",\n    className: classes.textField,\n    placeholder: \"Code\",\n    key: \"code\",\n    name: \"code\",\n    autoComplete: \"off\",\n    onChange: handleInputChange,\n    margin: \"normal\"\n  }), sent && _react.default.createElement(_TextField.default, {\n    id: \"newpassword\",\n    fullWidth: true,\n    label: \"New Password\",\n    className: classes.textField,\n    type: \"password\",\n    autoComplete: \"current-password\",\n    margin: \"normal\"\n  }), _react.default.createElement(_Toolbar.default, {\n    disableGutters: true\n  }, _react.default.createElement(_Button.default, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: function onClick() {\n      sent ? setSent(false) : onBack();\n    }\n  }, \"Back\"), _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(_Button.default, {\n    className: \"enterAction\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: function onClick() {\n      return setSent(true);\n    }\n  }, \"Send Code\")), _react.default.createElement(_CheckemailMsg.default, {\n    open: sent,\n    onResend: function onResend() {\n      return setSent(true);\n    }\n  }));\n};\n\nVerifyContact.defaultProps = {\n  hasEmail: true\n};\nVerifyContact.propTypes = {\n  onBack: _propTypes.default.func,\n  hasEmail: _propTypes.default.bool,\n  hasPhone: _propTypes.default.bool,\n  handleInputChange: _propTypes.default.func.isRequired,\n  handleSkip: _propTypes.default.func.isRequired,\n  handleVerify: _propTypes.default.func.isRequired,\n  handleSubmit: _propTypes.default.func.isRequired\n};\nvar _default = VerifyContact;\nexports.default = _default;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/matt/Work/Git/NAR/riverscapes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _awsAmplify = _interopRequireWildcard(require(\"aws-amplify\"));\n\nvar _core = require(\"@aws-amplify/core\");\n\nvar _countryDialCodes = _interopRequireDefault(require(\"aws-amplify-react/dist/Auth/common/country-dial-codes\"));\n\nvar _awsAmplifyReact = require(\"aws-amplify-react\");\n\nvar _SignIn = _interopRequireDefault(require(\"./SignIn\"));\n\nvar _ConfirmSignIn = _interopRequireDefault(require(\"./ConfirmSignIn\"));\n\nvar _RequireNewPassword = _interopRequireDefault(require(\"./RequireNewPassword\"));\n\nvar _SignUp = _interopRequireDefault(require(\"./SignUp\"));\n\nvar _Loading = _interopRequireDefault(require(\"./Loading\"));\n\nvar _ConfirmSignUp = _interopRequireDefault(require(\"./ConfirmSignUp\"));\n\nvar _ForgotPassword = _interopRequireDefault(require(\"./ForgotPassword\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar defaultAuthState = {\n  authState: 'init',\n  authData: {},\n  signedIn: null\n};\nvar signUpConfig = {\n  header: 'My Customized Sign Up',\n  hiddenDefaults: ['username', 'email', 'phone_number', 'password'],\n  defaultCountryCode: '1',\n  signUpFields: [{\n    label: 'My user name',\n    key: 'username',\n    required: true,\n    displayOrder: 1,\n    type: 'string'\n  }, {\n    label: 'Password',\n    key: 'password',\n    required: true,\n    displayOrder: 3,\n    type: 'password'\n  }, {\n    label: 'Email',\n    key: 'email',\n    required: true,\n    displayOrder: 2,\n    type: 'string'\n  }]\n};\n\nvar useAuthentication = function useAuthentication(awsConfig) {\n  var _useState = (0, _react.useState)(defaultAuthState),\n      _useState2 = _slicedToArray(_useState, 2),\n      _useState2$ = _useState2[0],\n      authState = _useState2$.authState,\n      authData = _useState2$.authData,\n      signedIn = _useState2$.signedIn,\n      setAuth = _useState2[1];\n\n  _awsAmplify.default.configure(awsConfig);\n\n  if (process.env.NODE_ENV === 'development') {\n    _awsAmplify.default.Logger.LOG_LEVEL = 'DEBUG';\n  }\n\n  var handleAuthStateChange = function handleAuthStateChange(state, data) {\n    setAuth({\n      authState: state,\n      authData: data,\n      signedIn: !state || state.length === 0 ? null : state === 'signedIn' ? true : signedIn\n    });\n  };\n\n  var getCurrentToken = function () {\n    var _ref = _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n      var currSession;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _awsAmplify.Auth.currentSession();\n\n            case 2:\n              currSession = _context.sent;\n              return _context.abrupt(\"return\", currSession && currSession.accessToken ? currSession.accessToken : null);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getCurrentToken() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var signOut = function signOut() {\n    return _awsAmplify.Auth.signOut().then(function (data) {\n      return console.log(data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var beAnonymous = function beAnonymous() {\n    setAuth({\n      authState: authState,\n      authData: authData,\n      signedIn: false\n    });\n  };\n\n  var authScreen = signedIn ? null : _react.default.createElement(_awsAmplifyReact.Authenticator, {\n    onStateChange: handleAuthStateChange,\n    hideDefault: true,\n    signUpConfig: signUpConfig\n  }, _react.default.createElement(SignIn, {\n    handleBeAnonymous: beAnonymous\n  }), _react.default.createElement(Loading, {\n    message: \"Logging in\"\n  }), _react.default.createElement(_awsAmplifyReact.RequireNewPassword, null), _react.default.createElement(ConfirmSignIn, null), _react.default.createElement(ConfirmSignUp, null), _react.default.createElement(_awsAmplifyReact.VerifyContact, null), _react.default.createElement(ForgotPassword, null), _react.default.createElement(SignUp, {\n    signUpConfig: signUpConfig\n  }));\n  var isGod = false;\n\n  try {\n    isGod = authData.signInUserSession.idToken.payload['cognito:groups'].indexOf('GodUsers') > -1;\n  } catch (e) {}\n\n  return {\n    authState: authState,\n    authData: authData,\n    isGod: isGod,\n    signOut: signOut,\n    getCurrentToken: getCurrentToken,\n    forceSignIn: function forceSignIn() {\n      return setAuth(defaultAuthState);\n    },\n    signedIn: signedIn,\n    authScreen: authScreen\n  };\n};\n\nvar _default = useAuthentication;\nexports.default = _default;\n\nvar SignIn = function (_SignInOrig) {\n  _inherits(SignIn, _SignInOrig);\n\n  function SignIn() {\n    _classCallCheck(this, SignIn);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignIn).apply(this, arguments));\n  }\n\n  _createClass(SignIn, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this = this;\n\n      var loading = this.state.loading;\n\n      var newProps = _objectSpread({}, this.props, {\n        loading: loading,\n        handleForgotPassword: function handleForgotPassword() {\n          return _this.changeState('forgotPassword');\n        },\n        handleSignup: function handleSignup() {\n          return _this.changeState('signUp');\n        },\n        handleInputChange: this.handleInputChange,\n        handleSignIn: this.signIn\n      });\n\n      return _react.default.createElement(_SignIn.default, newProps);\n    }\n  }]);\n\n  return SignIn;\n}(_awsAmplifyReact.SignIn);\n\nvar SignUp = function (_SignUpOrig) {\n  _inherits(SignUp, _SignUpOrig);\n\n  function SignUp() {\n    _classCallCheck(this, SignUp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignUp).apply(this, arguments));\n  }\n\n  _createClass(SignUp, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this2 = this;\n\n      var hide = this.props.hide;\n\n      if (hide && hide.includes(SignUp)) {\n        return null;\n      }\n\n      if (this.checkCustomSignUpFields()) {\n        this.signUpFields = this.props.signUpConfig.signUpFields;\n      }\n\n      this.sortFields();\n\n      var newProps = _objectSpread({}, this.props, {\n        countryDialCodes: _countryDialCodes.default,\n        defaultDialCode: this.getDefaultDialCode(),\n        handleInputChange: this.handleInputChange,\n        signUpFields: this.signUpFields,\n        signUpFieldLabels: this.signUpFields.map(function (field) {\n          return _core.I18n.get(field.label);\n        }),\n        signUpFieldPlaceholders: this.signUpFields.map(function (field) {\n          return _core.I18n.get(field.placeholder);\n        }),\n        handleSignup: this.signUp,\n        handleBack: function handleBack() {\n          return _this2.changeState('signIn');\n        }\n      });\n\n      return _react.default.createElement(_SignUp.default, newProps);\n    }\n  }]);\n\n  return SignUp;\n}(_awsAmplifyReact.SignUp);\n\nvar ConfirmSignIn = function (_ConfirmSignInOrig) {\n  _inherits(ConfirmSignIn, _ConfirmSignInOrig);\n\n  function ConfirmSignIn() {\n    _classCallCheck(this, ConfirmSignIn);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConfirmSignIn).apply(this, arguments));\n  }\n\n  _createClass(ConfirmSignIn, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this3 = this;\n\n      var newProps = _objectSpread({}, this.props, {\n        handleBack: function handleBack() {\n          return _this3.changeState('signIn');\n        },\n        handleInputChange: this.handleInputChange,\n        handleConfirm: this.confirm\n      });\n\n      return _react.default.createElement(_ConfirmSignIn.default, newProps);\n    }\n  }]);\n\n  return ConfirmSignIn;\n}(_awsAmplifyReact.ConfirmSignIn);\n\nvar ConfirmSignUp = function (_ConfirmSignUpOrig) {\n  _inherits(ConfirmSignUp, _ConfirmSignUpOrig);\n\n  function ConfirmSignUp() {\n    _classCallCheck(this, ConfirmSignUp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConfirmSignUp).apply(this, arguments));\n  }\n\n  _createClass(ConfirmSignUp, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this4 = this;\n\n      var newProps = _objectSpread({}, this.props, {\n        handleBack: function handleBack() {\n          return _this4.changeState('signIn');\n        },\n        handleInputChange: this.handleInputChange,\n        handleConfirm: this.confirm,\n        handleResend: this.resend\n      });\n\n      return _react.default.createElement(_ConfirmSignUp.default, newProps);\n    }\n  }]);\n\n  return ConfirmSignUp;\n}(_awsAmplifyReact.ConfirmSignUp);\n\nvar RequireNewPassword = function (_RequireNewPasswordOr) {\n  _inherits(RequireNewPassword, _RequireNewPasswordOr);\n\n  function RequireNewPassword() {\n    _classCallCheck(this, RequireNewPassword);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RequireNewPassword).apply(this, arguments));\n  }\n\n  _createClass(RequireNewPassword, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var user = this.props.authData;\n      var requiredAttributes = user.challengeParam.requiredAttributes;\n      var placeholders = Array.isArray(requiredAttributes) ? requiredAttributes.map(function (attribute) {\n        return _core.I18n.get(convertToPlaceholder(attribute));\n      }) : [];\n\n      var newProps = _objectSpread({}, this.props, {\n        handleInputChange: this.handleInputChange,\n        requiredAttributes: requiredAttributes,\n        placeholders: placeholders,\n        change: this.change\n      });\n\n      return _react.default.createElement(_RequireNewPassword.default, newProps);\n    }\n  }]);\n\n  return RequireNewPassword;\n}(_awsAmplifyReact.RequireNewPassword);\n\nvar Loading = function (_LoadingOrig) {\n  _inherits(Loading, _LoadingOrig);\n\n  function Loading() {\n    _classCallCheck(this, Loading);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Loading).apply(this, arguments));\n  }\n\n  _createClass(Loading, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      return _react.default.createElement(_Loading.default, this.props);\n    }\n  }]);\n\n  return Loading;\n}(_awsAmplifyReact.Loading);\n\nvar ForgotPassword = function (_ForgotPasswordOrig) {\n  _inherits(ForgotPassword, _ForgotPasswordOrig);\n\n  function ForgotPassword() {\n    _classCallCheck(this, ForgotPassword);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ForgotPassword).apply(this, arguments));\n  }\n\n  _createClass(ForgotPassword, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this5 = this;\n\n      var newProps = _objectSpread({}, this.props, {\n        handleBack: function handleBack() {\n          return _this5.changeState('signIn');\n        },\n        handleInputChange: this.handleInputChange,\n        handleConfirm: this.confirm,\n        handleResend: this.send,\n        handleSubmit: this.submit,\n        handleSendCode: this.send\n      });\n\n      return _react.default.createElement(_ForgotPassword.default, newProps);\n    }\n  }]);\n\n  return ForgotPassword;\n}(_awsAmplifyReact.ForgotPassword);\n\nfunction convertToPlaceholder(str) {\n  return str.split('_').map(function (part) {\n    return part.charAt(0).toUpperCase() + part.substr(1).toLowerCase();\n  }).join(' ');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.projectHelpers = exports.misc = exports.api = exports.xml = exports.util = void 0;\n\nvar util = require('./util');\n\nexports.util = util;\n\nvar xml = require('./xml');\n\nexports.xml = xml;\n\nvar api = require('./api');\n\nexports.api = api;\n\nvar misc = require('./misc');\n\nexports.misc = misc;\n\nvar projectHelpers = require('./projectHelpers');\n\nexports.projectHelpers = projectHelpers;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Typography = _interopRequireDefault(require(\"@material-ui/core/Typography\"));\n\nvar _CssBaseline = _interopRequireDefault(require(\"@material-ui/core/CssBaseline\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _useAuthCommon = _interopRequireDefault(require(\"./useAuthCommon\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar useStyles = (0, _styles.makeStyles)(function (theme) {\n  return {\n    root: {\n      height: '100%'\n    },\n    bgSwoosh: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 0\n    },\n    spacer: {\n      flex: '1 1'\n    },\n    logo: {},\n    logoInner: {\n      height: 100,\n      width: 100\n    },\n    inner: {\n      margin: '0 auto',\n      width: '100%',\n      height: '100%',\n      minWidth: 200,\n      maxWidth: 300,\n      display: 'flex',\n      flexDirection: 'column',\n      textAlign: 'center'\n    }\n  };\n});\n\nvar AuthContainer = function AuthContainer(_ref) {\n  var children = _ref.children;\n  var containerRef = (0, _useAuthCommon.default)();\n  var classes = useStyles();\n  return _react.default.createElement(\"div\", {\n    ref: containerRef,\n    className: classes.root\n  }, _react.default.createElement(_CssBaseline.default, null), _react.default.createElement(\"div\", {\n    className: classes.inner\n  }, _react.default.createElement(\"div\", {\n    className: classes.spacer\n  }), _react.default.createElement(\"div\", {\n    className: classes.logo\n  }, _react.default.createElement(\"img\", {\n    className: classes.logoInner,\n    src: process.env.PUBLIC_URL + '/RiverscapesLogo.png',\n    alt: \"logo\"\n  })), _react.default.createElement(_Typography.default, {\n    component: \"div\",\n    variant: \"h5\"\n  }, \"Riverscapes Warehouse Explorer\"), _react.default.createElement(_Typography.default, {\n    component: \"div\",\n    variant: \"caption\"\n  }), children, _react.default.createElement(\"div\", {\n    className: classes.spacer\n  })));\n};\n\nAuthContainer.propTypes = {\n  children: _propTypes.default.any\n};\nvar _default = AuthContainer;\nexports.default = _default;"],"sourceRoot":""}