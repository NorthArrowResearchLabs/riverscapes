(this["webpackJsonp@riverscapes-client/website"]=this["webpackJsonp@riverscapes-client/website"]||[]).push([[0],{116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return{root:{},spacer:{flexGrow:1},forgotPassword:{width:"100%",textAlign:"right"},switch:{},switchButton:{flexGrow:1,"&:last-child":{borderRadius:0},"&:first-child":{borderRadius:0}},phoneNumInner:{marginTop:e.spacing(1),display:"flex"},phoneNumDropdown:{margin:e.spacing(1),minWidth:120},warnText:{marginTop:e.spacing(2),fontStyle:"italic"},noSignin:{margin:e.spacing(2,0),padding:e.spacing(1),textAlign:"left",border:"1px solid #00000022",background:"#0000000F"}}}},1201:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNum=function(e,t){try{var n=t>0?"."+Array(t+1).join("0"):"";return(u(e)?(0,r.default)(e).format("0,0".concat(n)):e).replace(/(\.(0{0,1}[1-9]*))0+$/,"$1")}catch(a){return e}},t.clearSelection=function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){window.getSelection().removeAllRanges()}},t.isObjectWithKeys=function(e){return"object"===c(e)&&null!==e&&Object.keys(e).length>0},t.makeDomArray=function(e){if(!e)return[];var t=Object.keys(e);if(t.length>1||0===t.length)throw Error("Expected nester domnode structure.");return e&&e[t[0]]?Array.isArray(e[t[0]])?e[t[0]]:[e[t[0]]]:[]},t.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.numericArrayCompare=function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&!e.some((function(e,n){return e!==t[n]})))},t.decodeUnbufferedBase64=function(t){var n=t.length%4;if(0!==n){var r=t+Array(4-n).join("=");return e.from(r,"base64").toString()}return e.from(t,"base64").toString()},t.encodeUnbufferedBase64=function(t){return s(e.from(t).toString("base64"))},t.isObject=d,t.arrToObj=function e(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);Object.keys(n).forEach((function(r){var a=n[r];a._&&(a.val=a._,delete a._),a.$&&(a.attr=a.$,delete a.$),"object"===c(a)&&(t[r]=e(a),Array.isArray(a)&&1===a.length&&"string"===typeof a[0]?u(a[0])?t[r]=Number(a[0]):t[r]=a[0].replace(/\\/g,"/"):Array.isArray(a)&&1===a.length&&d(a[0])&&1===Object.keys(a[0]).length&&(t[r]=a[0][Object.keys(a[0])[0]]),c(t[r])&&0===t[r].length&&delete t[r],"string"===typeof t[r]&&(t[r]=t[r].trim(),u(t[r])&&(t[r]=Number(t[r]))))}));return n},t.getRandomArbitraryInt=function(e,t){return parseInt(Math.random()*(t-e)+e,10)},t.debounce=function(e,t,n){var r=this,a=null;return function(){for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];var c=r,u=n&&!a;clearTimeout(a),a=setTimeout((function(){a=null,n||e.apply(c,l)}),t),u&&e.apply(c,l)}},t.padString=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t>n.length?e.repeat(2+t-n.length):"";return r?(a+n).slice(-t):(n+a).substring(0,t)},t.formatTime=function(e,t){function n(e){return t?t*Math.round(e/t):e}return e>3600?Math.floor(e/3600)+"h"+n(e%3600/60)+"m":e>60?Math.floor(e/60)+"m"+n(e%60)+"s":e>10?n(e)+"s":e+"s"},t.chunkArray=t.base64toJSON=t.json2base64=t.urlizeb64=t.isNumeric=void 0;var r=o(n(1202)),a=o(n(470));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e){try{return!isNaN(parseFloat(e))&&isFinite(e)}catch(t){return!1}};t.isNumeric=u;var s=function(e){return e.replace("+","-").replace("/","_").replace(/=+$/,"")};function d(e){return e instanceof Object&&e.constructor===Object}t.urlizeb64=s;t.json2base64=function(e){return new Promise((function(t,n){a.default.gzip(JSON.stringify(e),(function(e,r){e?n(e):t(r.toString("base64"))}))}))};t.base64toJSON=function(t){var n=e.from(t,"base64");return new Promise((function(e,t){a.default.gunzip(n,(function(n,r){n?t(n):e(JSON.parse(r.toString()))}))}))};t.chunkArray=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}}).call(this,n(14).Buffer)},1203:function(e,t){},1205:function(e,t){},1247:function(e,t){},1262:function(e,t,n){"use strict";var r=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.uploadStream=function(e,t,n,r){var l=s({},n,{file:o.default.createReadStream(t,{highWaterMark:262144})});l.file.on("data",(function(e){r&&r(e.length)}));var i={method:"POST",formData:l,url:e};return new Promise((function(e,t){(0,a.default)(i).on("error",(function(e){return console.log(e),t(e)})).on("end",(function(){return e()}))}))},t.uploadStr=function(e,t,n,r){var o={method:"POST",data:s({},n,{file:t}),url:e};return new Promise((function(e,t){(0,a.default)(o).on("error",(function(e){return console.log(e),t(e)})).on("end",(function(){return e()}))}))},t.downloadStream=function(e,t,n){return f.apply(this,arguments)};var a=i(n(1263)),o=i(n(107)),l=i(n(313));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){var e;return e=r.mark((function e(t,n,i){var c,u,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.default.dirname(n),o.default.existsSync(c)&&o.default.lstatSync(c).isDirectory()||o.default.mkdirSync(c,{recursive:!0}),u={method:"GET",url:t,maxContentLength:1/0,responseType:"stream"},(s=o.default.createWriteStream(n,{highWaterMark:262144})).on("data",(function(e){i&&i(e.length)})),e.abrupt("return",new Promise((function(e,t){(0,a.default)(u).pipe(s).on("error",(function(e){return console.log(e),t(e)})).on("end",(function(){return e()}))})));case 6:case"end":return e.stop()}}),e)})),(f=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){c(o,r,a,l,i,"next",e)}function i(e){c(o,r,a,l,i,"throw",e)}l(void 0)}))}).apply(this,arguments)}},1295:function(e,t){},1296:function(e,t){},1351:function(e,t){},1441:function(e,t,n){"use strict";var r=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.treeIzeFilePaths=t.loadLocalProjectXML=t.upDownDiff=void 0;var a=u(n(107)),o=u(n(313)),l=n(477),i=n(503),c=n(501);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}t.upDownDiff=function(e,t){var n=[],r=[];return t&&0!==t.length?e&&0!==e.length?{leftOnly:e.filter((function(e){var a=t.find((function(t){return e.key===t.key}));return a&&(a.md5===e.md5?r.push(e.key):n.push(e.key)),!a})).map((function(e){return e.key})),rightOnly:t.filter((function(t){return!e.find((function(e){return t.key===e.key}))})).map((function(e){return e.key})),different:n,same:r}:{leftOnly:[],rightOnly:t.map((function(e){return e.key})),different:[],same:[]}:{leftOnly:e.map((function(e){return e.key})),rightOnly:[],different:[],same:[]}};var d=function(){var e,t=(e=r.mark((function e(t,n,u,s){var d,f,p,m;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=u,f=null,p=s.meta.projectfile,a.default.existsSync(d)){e.next=7;break}throw new c.ValidationError("Path given '".concat(d,"' is not a '").concat(p,"' file or a folder that contains one"));case 7:if(!a.default.lstatSync(d).isDirectory()){e.next=11;break}if(d=o.default.join(u,p),a.default.existsSync(d)){e.next=11;break}throw new c.ValidationError("Could not find a '".concat(p,"' file at path '").concat(u));case 11:e.prev=11,f=a.default.readFileSync(d).toString("utf-8"),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(11),new c.ValidationError("Error reading file");case 18:return e.next=20,(0,i.validateProject)(t,n,f,s.machineName).then((function(e){var t=e.data;if(e.errors)throw new Error("Unexpected XML Validation problems");if(!1===t.validate.result)throw new c.ValidationError("Project did not validate",t.validate.xmlErrors)})).catch((function(e){throw e}));case 20:return e.next=22,(0,l.parseProjectXML)(f).catch((function(e){throw e}));case 22:return m=e.sent,e.abrupt("return",{filePath:d,data:m});case 24:case"end":return e.stop()}}),e,null,[[11,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,i,"next",e)}function i(e){s(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,n,r,a){return t.apply(this,arguments)}}();t.loadLocalProjectXML=d;function f(e){e.sort((function(e,t){return e.children&&!t.children?-1:!e.children&&t.children?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))}t.treeIzeFilePaths=function(e){var t=[];return e.forEach((function(e){for(var n=e.split("/"),r=t,a=function(){var e={name:n.shift(),children:[]},t=r.find((function(t){return t.name===e.name}));t&&t.children?r=t.children:(r.push(e),r=e.children),f(r)};n.length>1;)a();r.push({name:n[0],path:e})})),f(t),t}},1442:function(e,t,n){},1447:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),l=n.n(o),i=n(80),c=n.n(i),u=n(43),s=n(170),d=n(39),f=n(1448),p=n(228),m=n(66),h=n(210),g=n.n(h),y=a.a.createContext({}),v=n(321),b=n.n(v),O=n(350),E=n(1539),w=n(1547),j=n(1541),P=n(1551),k=n(567),C=n(569),S=n.n(C),x=n(16),N=n(209),_=n(104),I=Object(N.a)((function(e){return{root:{display:"flex",alignItems:"center",width:"100%",padding:e.spacing(0,1),textShadow:"3px 3px 3px rgba(0,0,0,0.7)",backgroundImage:"url(".concat("/riverscapes","/HeaderBackground.png)"),backgroundRepeat:"no-repeat",backgroundPosition:"0% 50%",backgroundSize:"cover",backgroundColor:"#444444"},logo:{height:40,width:40,marginRight:e.spacing(2)},programChooser:{margin:e.spacing(0,1),color:e.palette.primary.contrastText,"& svg":{color:e.palette.primary.contrastText},"&:before":{borderColor:e.palette.primary.contrastText},"&:after":{borderColor:e.palette.primary.contrastText}},transparent:{backgroundColor:"transparent",background:"none",color:e.palette.text.primary},search:Object(u.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(x.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(x.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",flexGrow:1},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},spacer:{flexGrow:1},inputInput:Object(u.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:200}),sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex",flexGrow:1}),sectionMobile:Object(u.a)({display:"flex",flexGrow:1},e.breakpoints.up("sm"),{display:"none"})}})),T=function(){var e=I(),t=Object(r.useContext)(y),n=t.program,o=t.programs,l=t.signOut,i=t.navigateProgram,c=Object(r.useState)(null),u=Object(d.a)(c,2),s=u[0],f=u[1],p=function(){f(null)},m=o&&a.a.createElement(k.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!s,onClose:p},a.a.createElement(P.a,null,a.a.createElement(_.a,{variant:"overline"},"Programs")),o.map((function(e,t){return a.a.createElement(P.a,{disabled:n&&n.machineName===e.machineName,key:"prog-".concat(t),onClick:function(){return t=e.machineName,p(),void i(t);var t},value:e.machineName},e.name)})),a.a.createElement(w.a,null),a.a.createElement(P.a,{onClick:l},"Log Out"));return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{position:"static"},a.a.createElement(O.a,{className:b()(e.root),disableGutters:!0},a.a.createElement("a",{href:"http://riverscapes.xyz/"},a.a.createElement("img",{className:e.logo,src:"/riverscapes/RiverscapesLogo.png",alt:"logo"})),n?a.a.createElement("div",null,a.a.createElement(_.a,{variant:"subtitle1"},n.name),a.a.createElement(_.a,{variant:"caption"},"Riverscapes Warehouse Explorer")):a.a.createElement(_.a,{variant:"subtitle1"},"Riverscapes Warehouse Explorer"),a.a.createElement("div",{className:e.spacer}),a.a.createElement(j.a,{"aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},color:"inherit"},a.a.createElement(S.a,null)))),o&&m)},A=n(341),D=n(1543),M=n(230),R=n(1455),F=n(1552),L=n(1459),q=n(1548),W=n(1549),U=n(1540),B=n(124),$=n.n(B),G=n(344),z=n(1542),V=n(570),J=n.n(V),H=n(562),Z=Object(N.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(2)},itemText:{flexGrow:1},mm:{display:"flex",width:"100%"},prodChip:{height:e.spacing(2.3),borderRadius:e.spacing(1)/2,color:"#999",border:"1px solid #ddd",background:"#eee",marginRight:e.spacing(1)},downloadText:{position:"absolute",textAlign:"center",width:"100%",bottom:-e.spacing(2),right:0}}})),X=function(e){var t=e.data,n=e.loading,o=e.onClick,l=Z(),i=Object(r.useContext)(y),c=i.program,u=i.pendingZips,s=i.downloadZipFile,d=c.definitions.Collections;if(n)return a.a.createElement(L.a,{button:!0},a.a.createElement(q.a,null,a.a.createElement(F.a,{variant:"circle",height:40,width:40})),a.a.createElement("div",{className:l.itemText},a.a.createElement(F.a,{style:{height:10,width:"60%",margin:"6px 0"}}),a.a.createElement(F.a,{style:{height:10,width:"40%",margin:"6px 0"}})),a.a.createElement(W.a,null,a.a.createElement(j.a,{edge:"end",disabled:!0},a.a.createElement(F.a,{variant:"circle",height:40,width:40}))));var f=[],p=t.projType,m=u[t.id];if(t.projType&&c.products[t.projType]){var h=c.products[t.projType].pathArr.filter((function(e){return"Collection"===e.type}));p=c.products[t.projType].name,0===(f=h.map((function(e){return{key:e.def.name,val:t.meta[e.def.name]}}),{})).length&&(f=Object.keys(t.meta).slice(0,5).map((function(e){return{key:e,val:t.meta[e]}}),{}))}return a.a.createElement(L.a,{button:!0,onClick:o},a.a.createElement(q.a,null,a.a.createElement(U.a,null," ",t.projType.substr(0,1)," ")),a.a.createElement("div",{className:l.itemText},a.a.createElement(_.a,{variant:"body1"},t.name),a.a.createElement("div",{className:l.mm},a.a.createElement(H.a,{className:l.prodChip,label:p,size:"small"}),f.map((function(e,t){var n=e.key,r=e.val,o=d.find((function(e){return e.name===n})),i=o?o.color[500]:null;return a.a.createElement(_.a,{key:"mmval-".concat(t),className:l.mmItem,variant:"caption",color:"textSecondary"},t>0&&" \u2022 ",a.a.createElement("span",{style:{color:i}}," ",r," "))})))),a.a.createElement(W.a,null,m?a.a.createElement(G.a,{variant:"outlined",edge:"end",disabled:!0,color:"primary",className:l.button,startIcon:a.a.createElement(z.a,{color:"secondary",size:24,thickness:3})},"Preparing Zip..."):a.a.createElement(G.a,{edge:"end",variant:"outlined",color:"primary",onClick:function(){return s(t)},end:!0,startIcon:a.a.createElement(J.a,null)},"ZIP"),m&&a.a.createElement(_.a,{className:l.downloadText,component:"div",color:"textSecondary",variant:"caption"},"started ",$()(m,"x").fromNow())))},K=n(1544),Q=n(1546),Y=n(1545),ee=n(576),te=n.n(ee),ne=n(575),re=n.n(ne),ae=n(572),oe=n.n(ae),le=n(573),ie=n.n(le),ce=n(574),ue=n.n(ce),se=n(1553),de=n(577),fe=n.n(de),pe=n(578),me=n.n(pe),he=n(1554),ge=n(571),ye=n.n(ge),ve=n(142),be=n(354),Oe=n(355);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=Object(N.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},normalIcon:{},documentIcon:{color:ve.a[500]},photoIcon:{color:be.a[500]},TerrainIcon:{color:Oe.a[500]},metaDisplay:{display:"flex",flexFlow:"wrap"},title:{marginTop:e.spacing(2)},treeLabel:{marginLeft:e.spacing(1),"&>*":{lineHeight:1.2}},treeFile:{},treeFileContent:{borderBottom:"1px solid ".concat(e.palette.grey[100]),padding:e.spacing(1)},treeFolder:{},treeFolderContent:{padding:e.spacing(1)},metaDisplayItem:{flex:"1 1",maxWidth:"25%",minWidth:150,margin:e.spacing(0,1,0,0),"&>*":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},prodChip:{borderRadius:e.spacing(1)/2,color:"#999",border:"1px solid #ddd",background:"#eee",marginRight:e.spacing(1)}}}));function Pe(e){var t=e.onClose,n=e.project,o=je(),l=Object(r.useContext)(y),i=l.downloadFile,c=l.program,s=[{pattern:/.*\.(png|gif|jpg|jpeg)$/i,icon:a.a.createElement(oe.a,{className:o.photoIcon})},{pattern:/.*\.(tif|img|shp)$/i,icon:a.a.createElement(ie.a,{className:o.TerrainIcon})},{pattern:/.*\.(csv|pdf|doc)$/i,icon:a.a.createElement(ue.a,{className:o.documentIcon})}],d=n.files.reduce((function(e,t){var n=s.find((function(e){var n=e.pattern;return t.key.match(n)}));return we({},e,Object(u.a)({},t.key,we({},t,{icon:n?n.icon:a.a.createElement(re.a,{className:o.normalIcon}),classStr:n?n.classStr:"normalIcon"})))}),{}),f=m.projectHelpers.treeIzeFilePaths(Object.keys(d)),p=c.products[n.projType].name;return a.a.createElement(K.a,{onClose:t,open:!0,maxWidth:"md",fullWidth:!0},a.a.createElement(Q.a,{disableTypography:!0,className:o.root},a.a.createElement("div",null,a.a.createElement(_.a,{variant:"h5"},n.name),a.a.createElement(_.a,{variant:"overline",color:"textSecondary"},a.a.createElement(H.a,{className:o.prodChip,label:p}),"ID: ",n.id)),t?a.a.createElement(j.a,{"aria-label":"close",className:o.closeButton,onClick:t},a.a.createElement(te.a,null)):null),a.a.createElement(Y.a,{dividers:!0},a.a.createElement(_.a,{variant:"caption",component:"div",color:"inherit"},a.a.createElement("strong",null,"Created"),": ",$()(n.createdOn,"x").fromNow()," (",$()(n.createdOn,"x").format("lll"),")"),a.a.createElement(_.a,{variant:"caption",component:"div",color:"inherit"},a.a.createElement("strong",null,"Updated"),": ",$()(n.updatedOn,"x").fromNow()," (",$()(n.updatedOn,"x").format("lll"),")"),a.a.createElement(_.a,{className:o.title,color:"inherit",variant:"subtitle1"},"Metadata"),a.a.createElement(w.a,null),a.a.createElement("div",{className:o.metaDisplay},Object.keys(n.meta).map((function(e,t){return a.a.createElement("div",{key:"result-".concat(t),className:o.metaDisplayItem},a.a.createElement(_.a,{variant:"overline",component:"div",color:"textSecondary"},e),a.a.createElement(_.a,{variant:"caption",component:"div",color:"textPrimary"},n.meta[e]))}))),a.a.createElement(_.a,{className:o.title,color:"inherit",variant:"subtitle1"},"Files"),a.a.createElement(w.a,null),a.a.createElement(se.a,{className:o.treeRoot,defaultExpanded:["1"],defaultCollapseIcon:a.a.createElement(fe.a,{color:"inherit"}),defaultExpandIcon:a.a.createElement(me.a,{color:"inherit"})},f.map((function(e,t){return a.a.createElement(ke,{project:n,key:"treeNode-".concat(t),keyStr:"treeNode-".concat(t),classes:o,item:e,fileDict:d,fileClick:i})})))))}var ke=function e(t){var n=t.classes,r=t.item,o=t.fileDict,l=t.keyStr,i=t.project,c=t.fileClick;if(r.children){var u=r.children.map((function(t,r){return a.a.createElement(e,{classes:n,keyStr:"".concat(l,"-l").concat(r),key:"".concat(l,"-l").concat(r),item:t,fileDict:o,project:i,fileClick:c})}));return a.a.createElement(he.a,{nodeId:l,className:n.treeFolder,classes:{content:n.treeFolderContent},label:r.name,children:u})}var s=r.path?o[r.path]:null;return a.a.createElement(he.a,{nodeId:l,onClick:function(){return c(i,r.path)},className:n.treeFile,classes:{content:n.treeFileContent},label:a.a.createElement("div",{className:n.treeLabel},a.a.createElement(_.a,{variant:"caption",component:"div",color:"textPrimary"},r.path),a.a.createElement(_.a,{variant:"caption",component:"div",color:"textSecondary"},ye()(parseInt(s.size,10)))),endIcon:s.icon})};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=Object(N.a)((function(e){return{root:{},words:{textAlign:"center"},nav:{display:"flex"},spacer:{flexGrow:1},numButton:{minWidth:e.spacing(4)}}})),Ne=function(e){var t=e.data,n=e.loading,o=xe(),l=Object(r.useContext)(y),i=l.searchParams,c=l.setSearchParams;if(n)return a.a.createElement("div",{className:o.root},a.a.createElement("div",{className:o.nav},a.a.createElement(G.a,{disabled:!0,color:"primary"},"Previous"),a.a.createElement("div",{className:o.spacer}),a.a.createElement("div",{className:o.spacer}),a.a.createElement(G.a,{disabled:!0,color:"primary"},"Next")),a.a.createElement("div",{className:o.words},a.a.createElement(_.a,{variant:"caption"},"Loading...")));if(!t)return null;var u=t.startIndex,s=t.endIndex,d=t.total,f=t.nextToken||0,p=t&&t.projects&&u-t.projects.length>0?u-t.projects.length:0,m=parseInt(Math.ceil((u+1)/i.limit),10),h=i.limit>0?parseInt(Math.ceil(d/i.limit),10):0,g=[];h>1&&h<=10?g=Array(h).fill(null).map((function(e,t){return t+1})):h>10&&(g=m<=5||m>=h-5?[1,2,3,4,5,null,h-4,h-3,h-2,h-1,h]:[1,2,null,m-2,m-1,m,m+1,m+2,null,h-1,h]);return a.a.createElement("div",{className:o.root},a.a.createElement("div",{className:o.nav},a.a.createElement(G.a,{disabled:0===u,onClick:function(){return c(Se({},i,{nextToken:p}))},color:"primary"},"Previous"),a.a.createElement("div",{className:o.spacer}),g.map((function(e){return null!==e?e===m?a.a.createElement(G.a,{className:o.numButton,key:"page-".concat(e),disabled:!0,color:"inherit"},e):a.a.createElement(G.a,{className:o.numButton,key:"page-".concat(e),onClick:function(){return t=e,void c(Se({},i,{nextToken:i.limit*(t-1)}));var t},color:"primary"},e):a.a.createElement(G.a,{key:"page-".concat(e),disabled:!0},"...")})),a.a.createElement("div",{className:o.spacer}),a.a.createElement(G.a,{disabled:s>=h,onClick:function(){return c(Se({},i,{nextToken:f}))},color:"primary"},"Next")),a.a.createElement("div",{className:o.words},a.a.createElement(_.a,{variant:"caption"},"Results ",a.a.createElement("strong",null,u+1)," - ",a.a.createElement("strong",null,s+1)," of ",a.a.createElement("strong",null,d))))},_e=Object(N.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(2)}}})),Ie=function(e){var t=e.data,n=e.loading,o=(e.errors,_e()),l=Object(r.useState)(),i=Object(d.a)(l,2),c=i[0],u=i[1],s=Object(r.useContext)(y).searchParams;return n||t&&t.projects&&0!==t.projects.length?a.a.createElement(M.a,{className:o.root},a.a.createElement(Ne,{data:t,loading:n}),a.a.createElement(w.a,null),a.a.createElement(R.a,null,n&&Array(s.limit||10).fill(null).map((function(e,t){return a.a.createElement(X,{key:"result-".concat(t),loading:!0})})),!n&&t&&t.projects.map((function(e,t){return a.a.createElement(X,{key:"result-".concat(t),data:e,onClick:function(){return u(e)}})}))),c&&a.a.createElement(Pe,{project:c,onClose:function(){return u()}})):a.a.createElement(M.a,{className:o.root},a.a.createElement("div",null,"No Projects Found"))};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(){var e=Object(r.useContext)(y),t=e.jwt,n=e.url,o=e.program,l=e.searchParams,i=Object(r.useState)(!0),u=Object(d.a)(i,2),f=u[0],p=u[1],h=Object(r.useState)(),g=Object(d.a)(h,2),v=g[0],b=g[1],O=Object(r.useState)(),E=Object(d.a)(O,2),w=E[0],j=E[1];return Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var r,a,i,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return p(!0),console.log("SEARCH",o.machineName,l),e.next=6,m.api.search(n,t,o.machineName,Ae({},l)).catch((function(e){p(!1),j([e])}));case 6:r=e.sent;try{r.errors&&r.errors.length>0?(j(r.errors),p(!1)):(a=r.data.search,i=l.nextToken||0,u=a.projects.length>0?i+a.projects.length-1:0,s=a.total||0,b(Ae({},a,{startIndex:i,endIndex:u,total:s})),p(!1))}catch(c){p(!1)}case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b(null),function(){e.apply(this,arguments)}()}),[o,t,n,l]),a.a.createElement(Ie,{data:v,loading:f,errors:w})},Me=n(229),Re=n(349),Fe=n(319),Le=n(322),qe=n(318),We=n(587),Ue=n.n(We),Be=n(579),$e=n.n(Be),Ge=n(580),ze=n.n(Ge),Ve=n(581),Je=n.n(Ve),He=n(582),Ze=n.n(He),Xe=n(583),Ke=n.n(Xe),Qe=n(584),Ye=n.n(Qe),et=n(585),tt=n.n(et),nt=n(586),rt=n.n(nt),at=Object({NODE_ENV:"production",PUBLIC_URL:"/riverscapes",REACT_APP_GRAPHQL:"https://abgo77bhnc.execute-api.us-west-2.amazonaws.com/dev/api",REACT_APP_VERSION:"0.0.37",REACT_APP_DOMAIN:"northarrowresearchlabs.github.io",REACT_APP_BASENAME:"riverscapes",REACT_APP_AWS_REGION_DEPLOY:"us-west-2",REACT_APP_AWS_USERPOOLID:"us-west-2_5LnOSGlts",REACT_APP_AWS_USERPOOLWEBCLIENTID:"rsfn72s12uoe8a0h2h58rsq9i"}).REACT_APP_BASEURL,ot="northarrowresearchlabs.github.io";console.log("config: ",{baseurl:at,basename:"riverscapes",domain:ot});var lt={graphql:"".concat("https://abgo77bhnc.execute-api.us-west-2.amazonaws.com/dev/api")},it={limit:10},ct=[$e.a,ze.a,Je.a,Ze.a,Ke.a,Ye.a,tt.a,rt.a],ut={Auth:{region:"us-west-2",userPoolId:"us-west-2_5LnOSGlts",userPoolWebClientId:"rsfn72s12uoe8a0h2h58rsq9i",mandatorySignIn:!0,cookieStorage:{domain:"".concat(ot),expires:120,secure:!1}}};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=Object(N.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(2)},spacer:{flexGrow:1},actionBar:{display:"flex",width:"100%","&>*":{marginLeft:e.spacing(1)}},projTypeLine:{display:"flex"},projType:{marginRight:e.spacing(1),flexGrow:1,maxWidth:300},resultsNum:{flexShrink:0},projTypeMenuItem:{display:"flex"},projTypeMenuItemSelected:{display:"flex"},projTypeMenuItemName:{flexGrow:1},projTypeMenuItemNum:{color:e.palette.text.secondary,fontSize:"0.75rem"}}})),pt=function(e){var t=e.projTotals,n=ft(),o=Object(r.useContext)(y),l=o.program,i=o.setSearchParams,c=Object(r.useState)(it),u=Object(d.a)(c,2),s=u[0],f=u[1],p=Object(r.useState)([]),m=Object(d.a)(p,2),h=m[0],g=m[1],v=l&&l.products&&Object.values(l.products).map((function(e){return{name:e.name,id:e.id}})),b=l?l.definitions.Collections:[];function O(e,t){var n=dt({},e||s),r=Object(Me.a)(t||h);"__all"===n.projType&&delete n.projType;var a=r&&r.length>0&&r.filter((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return n&&r&&n.length>0&&r.length>0})),o=dt({},n);a&&a.length>0&&(o.metaArr=JSON.stringify(a)),t&&g(t),f(n),i(o)}b.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0})),v.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}));return a.a.createElement(M.a,{className:n.root},l&&l.products&&a.a.createElement("div",{className:n.projTypeLine},a.a.createElement(Fe.a,{fullWidth:!0,className:n.projType},a.a.createElement(qe.a,{htmlFor:"projectType"},"Project Type"),a.a.createElement(Le.a,{id:"projectType",inputProps:{className:n.projTypeMenuItemSelected},value:s.projType||"__all",onChange:function(e){var t="_all"!==e.target.value?e.target.value:null;O(dt({},s,{projType:t}))}},a.a.createElement(P.a,{className:n.projTypeMenuItem,value:"__all"},a.a.createElement("div",{className:n.projTypeMenuItemName},"All Project Types"),a.a.createElement("div",{className:n.projTypeMenuItemNum,variant:"caption",color:"textSecondary"},t.__all>-1?"".concat(t.__all):"...")),v.map((function(e,r){var o=e.name,l=e.id;return a.a.createElement(P.a,{className:n.projTypeMenuItem,key:"prod-".concat(r),value:l},a.a.createElement("div",{className:n.projTypeMenuItemName},o),a.a.createElement("div",{className:n.projTypeMenuItemNum,variant:"caption",color:"textSecondary"},t[l]>-1?"".concat(t[l]):"..."))})))),a.a.createElement("div",{className:n.spacer}),a.a.createElement(Fe.a,{className:n.resultsNum},a.a.createElement(qe.a,{htmlFor:"resultsNum"},"Results"),a.a.createElement(Le.a,{id:"resultsNum",value:s.limit,onChange:function(e){O(dt({},s,{limit:e.target.value}))}},a.a.createElement(P.a,{value:10},"10"),a.a.createElement(P.a,{value:20},"20"),a.a.createElement(P.a,{value:50},"50"),a.a.createElement(P.a,{value:100},"100")))),a.a.createElement(Re.a,{id:"outlined-helperText2",label:"Metadata Search",fullWidth:!0,autoFocus:!0,placeholder:"...",className:n.textField,margin:"normal",variant:"outlined",onKeyDown:function(e){13===e.keyCode&&i(s)},onChange:function(e){f(dt({},s,{metaStr:e.target.value}))}}),h.length>0&&a.a.createElement("div",{className:n.advanced},h.map((function(e,t){return a.a.createElement(ht,{key:"advRow-".concat(t),classes:n,row:e,options:b.filter((function(e){return!h.find((function(n,r){return r!==t&&n[0]===e.name}))})),changeHandler:function(e,n){var r=Object(Me.a)(h);r[t]=e,g(r),n&&O(null,r)}})})),a.a.createElement("div",null,a.a.createElement(G.a,{onClick:function(){return O(null,[].concat(Object(Me.a)(h),[["",""]]))}},"+"),a.a.createElement(G.a,{onClick:function(){return O(null,h.slice(0,-1))}},"-"))),a.a.createElement("div",{className:n.actionBar},a.a.createElement(G.a,{color:"primary",onClick:function(){h.length>0?O(dt({},s),[]):O(dt({},s),[["",""]])}},h.length>0?"Hide":"Show"," Advanced"),a.a.createElement("div",{className:n.spacer}),a.a.createElement(G.a,{className:n.iconButton,color:"primary",variant:"contained",onClick:function(){O(s)}},a.a.createElement(Ue.a,null)," Search"),a.a.createElement(G.a,{className:n.iconButton,color:"secondary",variant:"contained",onClick:function(){g([]),O(it)}},"Reset")))},mt=Object(N.a)((function(e){return{root:{display:"flex"},advancedLeft:{flex:"1 1 30%",height:e.spacing(4),marginRight:e.spacing(1)},advancedLeftCustom:{textAlign:"center"},advancedLeftOption:{},advancedText:{flex:"1 1 70%"},advancedRight:{flex:"1 1 70%"},advancedOp:{display:"flex"},advancedTextCustomName:{flex:"1 1 30%",marginRight:e.spacing(1)},advancedTextCustomValue:{flex:"1 1 40%"},advancedOpName:{flexGrow:1},advancedOpNamId:{},advancedInput:{height:e.spacing(4)}}})),ht=function(e){var t=e.row,n=e.options,o=e.changeHandler,l=mt(),i=Object(d.a)(t,2),c=i[0],u=i[1],s=Object(r.useState)(),f=Object(d.a)(s,2),p=f[0],h=f[1],g=c&&c.length>0&&n.find((function(e){return e.name.toLowerCase()===c.toLowerCase()})),y=g&&g.Allow&&!!g.Allow.find((function(e){return e.attr.name.toLowerCase()&&e.attr.name.length>0})),v=m.util.debounce((function(e,t){if(t&&t.length>0&&g&&!y){var n=g.AllowRegex.filter((function(e){return e.attr.pattern}));if(n&&n.length>0){var r=[];if(n.forEach((function(e){console.log(e);var n=new RegExp(e.attr.pattern);!t.match(n)&&r.push(n)})),r.length>0)return 1===r.length?h("Value must match pattern: '".concat(r[0],"'")):h(r.reduce((function(e,t,n){return e+n>0?" and ":""+t}),"Value must match patterns: ")),!1}}h(null),console.log("CHANGING VALUES",[e,t]),e.toLowerCase()===c.toLowerCase()&&t.toLowerCase()===u.toLowerCase()||o([e,t])}),500),b=function(e){13===e&&c&&c.length>0&&(console.log("Enter pressed"),o([c,u],!0))};return a.a.createElement("div",{className:l.root},a.a.createElement(Fe.a,{className:l.advancedLeft},a.a.createElement(Le.a,{value:g?g.name:"__custom",inputProps:{className:l.advancedInput},onChange:function(e){return o([e.target.value,""],!0)}},a.a.createElement(P.a,{key:"aoss-custom",value:"__custom"},a.a.createElement(_.a,{className:l.advancedLeftCustom,color:"textSecondary"},a.a.createElement("em",null,"Custom"))),n.map((function(e,t){var n=e.name;return a.a.createElement(P.a,{key:"aoss-".concat(t),value:n},a.a.createElement(_.a,{className:l.advancedLeftOption},n))})))),y?a.a.createElement(Fe.a,{className:l.advancedRight},a.a.createElement(Le.a,{value:u,inputProps:{className:l.advancedInput},onChange:function(e){return o([c,e.target.value],!0)}},g.Allow.map((function(e,t){var n=e.attr;return a.a.createElement(P.a,{className:l.advancedOp,key:"aooptss-".concat(t),value:n.id},a.a.createElement(_.a,{className:l.advancedOpName},n.name),n.name!==n.id&&a.a.createElement(_.a,{variant:"caption",className:l.advancedOpNamId},n.id))})))):g?a.a.createElement(Re.a,{error:!!p,label:p,disabled:!c||0===c.length,placeholder:"...",defaultValue:u,className:l.advancedText,inputProps:{className:l.advancedInput},onKeyDown:function(e){return b(e.keyCode)},onChange:function(e){return v(c,e.target.value)}}):a.a.createElement(a.a.Fragment,null,a.a.createElement(Re.a,{placeholder:"Meta Name",defaultValue:"",className:l.advancedTextCustomName,inputProps:{className:l.advancedInput},onKeyDown:function(e){return b(e.keyCode)},onChange:function(e){return v(e.target.value,u)}}),a.a.createElement(Re.a,{placeholder:"Meta Value",defaultValue:"",className:l.advancedTextCustomValue,inputProps:{className:l.advancedInput},onKeyDown:function(e){return b(e.keyCode)},onChange:function(e){return v(c,e.target.value)}})))};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(){var e=Object(r.useState)({}),t=Object(d.a)(e,2),n=t[0],o=t[1],l=Object(r.useRef)();l.current=n;var i=Object(r.useContext)(y),c=i.jwt,s=i.url,f=i.program;return Object(r.useEffect)((function(){f&&c&&s&&(m.api.search(s,c,f.machineName,{limit:0}).then((function(e){var t=e.data;return o(yt({},l.current,{__all:t.search?t.search.total:0}))})).catch((function(e){console.error(e)})),Object.keys(f.products).reduce((function(e,t){return e.then((function(){return m.api.search(s,c,f.machineName,{projType:t,limit:0}).then((function(e){var n=e.data;o(yt({},l.current,Object(u.a)({},t,n.search?n.search.total:0)))})).catch((function(e){o(yt({},l.current,Object(u.a)({},t,0))),console.error(e)}))}))}),Promise.resolve()))}),[f,c,s]),a.a.createElement(pt,{projTotals:n})},bt=n(1550),Ot=Object(N.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(2)}}})),Et=function(){var e=Ot(),t=Object(r.useContext)(y),n=t.programs,o=t.navigateProgram;return a.a.createElement(M.a,{className:e.root,elevation:1},a.a.createElement(_.a,{variant:"subtitle1"},"Choose a program:"),a.a.createElement(R.a,null,n&&n.map((function(e,t){return a.a.createElement(L.a,{key:"progKey-".concat(t),button:!0,divider:!0,onClick:function(){return o(e.machineName)}},a.a.createElement(q.a,null,a.a.createElement(U.a,{alt:"programname"},e.name.substr(0,1))),a.a.createElement(bt.a,{primary:e.name}))}))))},wt=Object(N.a)((function(e){return{root:{textAlign:"right"}}})),jt=function(){var e=wt();return a.a.createElement(D.a,{className:e.root,maxWidth:"md"},a.a.createElement("img",{className:e.logo,alt:"footer",src:"/riverscapes/cc-watermarks-riverscapes_orig.png"}))},Pt=Object(N.a)((function(e){return{root:{height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},inner:{flexGrow:1,overflowX:"hidden",overflowY:"scroll",display:"flex",flexDirection:"column"},spacer:{flex:"1 1"}}})),kt=function(){var e=Object(r.useContext)(y).program,t=Pt();return a.a.createElement("div",{className:t.root},a.a.createElement(A.a,null),a.a.createElement(T,null),a.a.createElement("div",{className:t.inner},e?a.a.createElement(D.a,{maxWidth:"md"},a.a.createElement(a.a.Fragment,null,a.a.createElement(vt,null),a.a.createElement(De,null))):a.a.createElement(D.a,{maxWidth:"sm"},a.a.createElement(Et,null)),a.a.createElement("div",{className:t.spacer}),a.a.createElement(jt,null)))},Ct=n(212),St={palette:{primary:{main:"#2D589D"},secondary:{main:"#ED7E32"},text:{}},typography:{useNextVariants:!0}},xt={home:Object(Ct.a)(St)};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=function(e){var t=e.location,n=e.history,o=Object(r.useState)(),l=Object(d.a)(o,2),i=l[0],h=l[1],v=Object(r.useState)(),b=Object(d.a)(v,2),O=b[0],E=b[1],w=Object(r.useState)({}),j=Object(d.a)(w,2),P=j[0],k=j[1],C=Object(r.useRef)();C.current=P;var S=Object(r.useState)(!1),x=Object(d.a)(S,2),N=x[0],_=x[1],I=Object(r.useState)(it),T=Object(d.a)(I,2),A=T[0],D=T[1],M=Object(p.useAuthentication)(ut),R=M.signedIn,F=M.authData,L=M.signOut,q=M.authScreen,W=function(){h(null),D(it)},U="";try{U=t.pathname.split("/").filter((function(e){return e.length>0}))[0]}catch(G){}var B={jwt:F&&F.signInUserSession&&F.signInUserSession.accessToken.jwtToken,url:lt.graphql,program:i,searchParams:A,setSearchParams:D,programs:O,downloadFile:function(e,t){var n=e.projType,r=e.id;return m.api.downloadFile(lt.graphql,B.jwt,n,i.machineName,r,t).then((function(e){try{window.open(e.data.downloadFile.downloadUrl,"_self")}catch(t){console.log("DOWNLOAD err",t)}})).catch((function(e){console.log("DOWNLOAD err",e)}))},downloadZipFile:function(e){var t=e.projType,n=e.id,r=function(){var e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.api.downloadZipFile(lt.graphql,B.jwt,t,i.machineName,n).catch((function(e){console.log("DOWNLOAD err",e)}));case 2:a=e.sent,console.log(a);try{a.data.downloadZip.pendingSince?(k(_t({},C.current,Object(u.a)({},n,a.data.downloadZip.pendingSince))),setTimeout(r,5e3)):(k(g.a.pickBy(C.current,(function(e,t){return t!==n}))),window.open(a.data.downloadZip.downloadUrl,"_self"))}catch(o){console.log("DOWNLOAD err",o)}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r()},pendingZips:P,navigateProgram:function(e){return n.push("/"+e)},signOut:L,location:t,history:n};Object(r.useEffect)((function(){W(),m.api.getPrograms(lt.graphql).then((function(e){console.log("API GetPrograms",e),e.data&&e.data.programs&&E(e.data.programs)}))}),[]),Object(r.useEffect)((function(){W(),function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U&&0!==U.length){e.next=2;break}return e.abrupt("return");case 2:_(!0),O&&O.length>0?(t=O.find((function(e){return e.machineName===U})))&&(t.definitions.Collections=t.definitions.Collections.map((function(e,t){return _t({},e,{color:ct[t%ct.length]})})),h(t)):W(),_(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[U,O,B.url]);var $=O&&i&&null===R;return a.a.createElement(f.a,{theme:xt.home},!O&&a.a.createElement(p.Loading,{message:"Loading program list..."}),$&&q,O&&R&&N&&a.a.createElement(p.Loading,{message:"Loading program..."}),!$&&!N&&a.a.createElement(y.Provider,{value:B},a.a.createElement(kt,null)))},Tt=n(588),At=n(115);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1442);n(1443),l.a.render(a.a.createElement(Tt.a,{basename:"/"},a.a.createElement(At.a,{path:"*",component:It})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),a=s(n(6)),o=s(n(55)),l=s(n(345)),i=s(n(242)),c=s(n(34)),u=s(n(347));function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,n(35).makeStyles)((function(e){return{root:{color:e.palette.primary.contrastText,background:e.palette.primary.main},checkEmailMsgIco:{marginRight:e.spacing(1)},checkEmailMsgTxt:{textAlign:"left",flexGrow:1},checkEmailMsg:{display:"flex"}}})),f=function(e){var t=e.onResend,n=e.open,a=d();return r.default.createElement(l.default,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n},r.default.createElement(i.default,{className:a.root,message:r.default.createElement("div",{className:a.checkEmailMsg},r.default.createElement(u.default,{className:a.checkEmailMsgIco,color:"inherit"}),r.default.createElement(c.default,{className:a.checkEmailMsgTxt,color:"inherit"},"Code Sent Check your email")),action:t&&[r.default.createElement(o.default,{key:"undo",color:"secondary",size:"small",variant:"contained",onClick:t},"Resend")]}))};f.propTypes={onResend:a.default.func,open:a.default.bool};var p=f;t.default=p},228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAuthentication=t.useAuthCommon=t.VerifyContact=t.SignUp=t.SignIn=t.RequireNewPassword=t.PasswordHelper=t.Loading=t.ForgotPassword=t.ConfirmSignUp=t.ConfirmSignIn=t.CheckemailMsg=t.AuthPhoneNum=t.AuthContainer=void 0;var r=n(97).default;t.AuthContainer=r;var a=n(633).default;t.AuthPhoneNum=a;var o=n(177).default;t.CheckemailMsg=o;var l=n(348).default;t.ConfirmSignIn=l;var i=n(351).default;t.ConfirmSignUp=i;var c=n(352).default;t.ForgotPassword=c;var u=n(353).default;t.Loading=u;var s=n(243).default;t.PasswordHelper=s;var d=n(357).default;t.RequireNewPassword=d;var f=n(358).default;t.SignIn=f;var p=n(359).default;t.SignUp=p;var m=n(636).default;t.VerifyContact=m;var h=n(343).default;t.useAuthCommon=h;var g=n(638).default;t.useAuthentication=g},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),a=u(n(6)),o=u(n(244)),l=u(n(321)),i=n(35),c=n(208);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=(0,i.makeStyles)((function(e){return{root:{display:"flex"},chipContainer:{flex:"1 1"},chip:{height:e.spacing(2.5)},label:{padding:e.spacing(0,1,0,1)},ok:{color:"white",background:c.green[500],border:"1px solid ".concat(c.green[500])},bad:{color:e.palette.error.main,background:"transparent",border:"1px solid ".concat(e.palette.error.main)}}})),p=function(e){var t=e.pword,n=f(),a=!!t&&!!t.match(/[A-Z]/),o=!!t&&!!t.match(/[a-z]/),l=!!t&&!!t.match(/[0-9]/),i=!!t&&!!t.match(/[!@#$%^&*(),.?'":;{}\[\]\-_=+|/\\`~<>]/),c=!!t&&t.length>=8;return r.default.createElement("div",{className:n.root},r.default.createElement(h,{ok:c,label:"8+"}),r.default.createElement(h,{ok:a,label:"A-Z"}),r.default.createElement(h,{ok:o,label:"a-z"}),r.default.createElement(h,{ok:l,label:"0-9"}),r.default.createElement(h,{ok:i,label:"!@#$%^&*,.?"}))};p.propTypes={pword:a.default.string};var m=p;t.default=m;var h=function(e){var t=e.ok,n=d(e,["ok"]),a=f();return r.default.createElement("div",{className:a.chipContainer},r.default.createElement(o.default,s({classes:{root:(0,l.default)(a.chip,t?a.ok:a.bad),label:a.label}},n)))};h.propTypes={ok:a.default.bool}},251:function(e,t){},258:function(e,t){},343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),a=function(){var e=(0,r.useRef)(),t=function(t){if("Enter"===t.key&&e.current)try{var n=e.current.getElementsByClassName("enterAction");n&&n[0]&&n[0].click()}catch(r){console.error("useAuthCommon::handleKeyPress",r)}};return(0,r.useEffect)((function(){if(e.current){try{document.addEventListener("keypress",t,!1)}catch(n){console.error("useAuthCommon::useEffect",n)}return function(){return document.removeEventListener("keypress",t,!1)}}}),[]),e};t.default=a},348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(0)),a=d(n(6)),o=d(n(98)),l=d(n(55)),i=d(n(89)),c=n(35),u=d(n(116)),s=d(n(97));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,c.makeStyles)(u.default),p=function(e){var t=e.handleInputChange,n=e.handleBack,a=e.handleConfirm,c=f();return r.default.createElement(s.default,null,r.default.createElement(o.default,{id:"mfaCode",fullWidth:!0,autoFocus:!0,label:"MFA Code",name:"code",className:c.textField,margin:"normal",onChange:t}),r.default.createElement(i.default,{disableGutters:!0},r.default.createElement(l.default,{color:"secondary",variant:"contained",onClick:n},"Back"),r.default.createElement("div",{className:c.spacer}),r.default.createElement(l.default,{className:"enterAction",color:"primary",variant:"contained",onClick:a},"Confirm")))};p.propTypes={handleInputChange:a.default.func.isRequired,handleBack:a.default.func.isRequired,handleConfirm:a.default.func.isRequired};var m=p;t.default=m},351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(0)),a=p(n(6)),o=p(n(98)),l=p(n(55)),i=p(n(34)),c=p(n(89)),u=n(35),s=p(n(116)),d=p(n(97)),f=p(n(177));function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,u.makeStyles)(s.default),h=function(e){var t=e.handleInputChange,n=e.handleBack,a=e.handleResend,u=e.handleConfirm,s=m();return r.default.createElement(d.default,null,r.default.createElement(o.default,{id:"username",fullWidth:!0,autoFocus:!0,name:"username",label:"Username",className:s.textField,margin:"normal",onChange:t}),r.default.createElement(o.default,{id:"confirmationCode",fullWidth:!0,name:"code",label:"Confirmation Code",className:s.textField,margin:"normal",onChange:t}),r.default.createElement(i.default,{variant:"caption",style:{textAlign:"left"}},"If you can't find it in your inbox be sure to check your spam folder."),r.default.createElement(c.default,{disableGutters:!0},r.default.createElement(l.default,{color:"secondary",variant:"outlined",onClick:n},"Back"),r.default.createElement("div",{className:s.spacer}),r.default.createElement(l.default,{color:"primary",variant:"contained",className:"enterAction",onClick:u},"Confirm")),r.default.createElement(f.default,{open:!0,onResend:a}))};h.propTypes={handleInputChange:a.default.func.isRequired,handleBack:a.default.func.isRequired,handleResend:a.default.func.isRequired,handleConfirm:a.default.func.isRequired};var g=h;t.default=g},352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t=m();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),a=p(n(6)),o=p(n(98)),l=p(n(34)),i=p(n(55)),c=p(n(89)),u=n(35),s=p(n(116)),d=p(n(97)),f=p(n(177));function p(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=(0,u.makeStyles)(s.default),y=function(e){var t=e.handleSubmit,n=e.handleInputChange,a=e.handleSendCode,u=e.handleBack,s=h((0,r.useState)(!1),2),p=s[0],m=s[1],y=g();return r.default.createElement(d.default,null,r.default.createElement(l.default,null,"Forgot Password"),!p&&r.default.createElement(o.default,{id:"username",autoFocus:!0,fullWidth:!0,label:"Username",name:"username",className:y.textField,margin:"normal",onChange:n}),p&&r.default.createElement(o.default,{id:"changecode",fullWidth:!0,autoFocus:!0,label:"Code",name:"code",className:y.textField,margin:"normal",onChange:n}),p&&r.default.createElement(l.default,{variant:"caption",style:{textAlign:"left"}},"If you can't find it in your inbox be sure to check your spam folder."),p&&r.default.createElement(o.default,{id:"newpassword",fullWidth:!0,label:"New Password",className:y.textField,type:"password",name:"password",autoComplete:"current-password",margin:"normal",onChange:n}),!p&&r.default.createElement(l.default,{variant:"caption",style:{textAlign:"left"}},"Enter your username and you will be sent an email with a code to reset your password."),r.default.createElement(c.default,{disableGutters:!0},r.default.createElement(i.default,{color:"secondary",variant:"outlined",onClick:function(){p?m(!1):u()}},"Back"),r.default.createElement("div",{className:y.spacer}),!p&&r.default.createElement(i.default,{color:"primary",variant:"contained",className:"enterAction",onClick:function(){m(!0),a()}},"Send Code"),p&&r.default.createElement(i.default,{className:"enterAction",color:"primary",variant:"contained",onClick:t},"Submit")),r.default.createElement(f.default,{open:p,onResend:a}))};y.propTypes={handleSubmit:a.default.func.isRequired,handleInputChange:a.default.func.isRequired,handleSendCode:a.default.func.isRequired,handleBack:a.default.func.isRequired};var v=y;t.default=v},353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(6)),o=i(n(97)),l=n(169);function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.message;return r.default.createElement(o.default,null,r.default.createElement(l.Typography,{variant:"h3"},"Loading..."),t&&r.default.createElement(l.Typography,{variant:"overline"},t))};c.propTypes={message:a.default.string};var u=c;t.default=u},357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t=m();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),a=p(n(6)),o=p(n(98)),l=p(n(55)),i=p(n(34)),c=p(n(89)),u=n(35),s=p(n(116)),d=p(n(97)),f=p(n(243));function p(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=(0,u.makeStyles)(s.default),y=function(e){var t=e.change,n=e.requiredAttributes,a=e.placeholders,u=e.handleInputChange,s=g(),p=h((0,r.useState)(),2),m=p[0],y=p[1];return r.default.createElement(d.default,null,r.default.createElement(i.default,null,"A new password is required"),r.default.createElement(o.default,{id:"newassword",fullWidth:!0,autoFocus:!0,label:"New Password",className:s.textField,type:"password",autoComplete:"new-password",margin:"normal",onChange:function(e){console.log("DEBUG",e.target.value,u),y(e.target.value),u(e)}}),r.default.createElement(f.default,{pword:m}),n.map((function(e,t){return r.default.createElement(o.default,{fullWidth:!0,key:e,name:e,className:s.textField,placeholder:a[t],type:"text",margin:"normal",onChange:u})})),r.default.createElement(c.default,{disableGutters:!0},r.default.createElement(l.default,{color:"secondary",variant:"contained"},"Back"),r.default.createElement("div",{className:s.spacer}),r.default.createElement(l.default,{color:"primary",variant:"contained",onClick:t,className:"enterAction"},"Change")))};y.propTypes={change:a.default.func.isRequired,handleInputChange:a.default.func.isRequired,requiredAttributes:a.default.array,placeholders:a.default.array};var v=y;t.default=v},358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(0)),a=d(n(6)),o=d(n(98)),l=d(n(55)),i=d(n(89)),c=n(35),u=d(n(116)),s=d(n(97));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=(0,c.makeStyles)(u.default),m=function(e){var t=e.loading,n=(e.handleSignup,e.federated,e.handleForgotPassword),a=e.handleInputChange,c=(e.handleBeAnonymous,e.handleSignIn),u=(f(e,["loading","handleSignup","federated","handleForgotPassword","handleInputChange","handleBeAnonymous","handleSignIn"]),p());return r.default.createElement(s.default,null,r.default.createElement(o.default,{id:"username",fullWidth:!0,key:"username",name:"username",label:"Username",color:"inherit",autoFocus:!0,className:u.textField,margin:"normal",onChange:a}),r.default.createElement(o.default,{fullWidth:!0,id:"password",label:"Password",color:"inherit",key:"password",name:"password",type:"password",className:u.textField,autoComplete:"current-password",margin:"normal",onChange:a}),r.default.createElement(i.default,{disableGutters:!0},r.default.createElement("div",{className:u.spacer}),r.default.createElement(l.default,{className:"enterAction",component:"button",color:"primary",variant:"contained",disabled:t,onClick:c},"Sign In")),r.default.createElement(l.default,{color:"primary",onClick:n,size:"small"},"Forgot Password"))};m.propTypes={loading:a.default.bool,federated:a.default.object,handleSignup:a.default.func.isRequired,handleForgotPassword:a.default.func.isRequired,handleInputChange:a.default.func.isRequired,handleBeAnonymous:a.default.func.isRequired,handleSignIn:a.default.func.isRequired};var h=m;t.default=h},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),a=h(n(6)),o=h(n(98)),l=h(n(55)),i=h(n(89)),c=h(n(127)),u=h(n(148)),s=h(n(149)),d=h(n(243)),f=h(n(97)),p=n(35),m=h(n(116));function h(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=(0,p.makeStyles)(m.default),O=function(e){var t=e.handleInputChange,n=e.signUpFields,a=e.signUpFieldLabels,p=e.signUpFieldPlaceholders,m=e.handleSignup,h=e.handleBack,g=e.countryDialCodes,O=e.defaultDialCode,E=(v(e,["handleInputChange","signUpFields","signUpFieldLabels","signUpFieldPlaceholders","handleSignup","handleBack","countryDialCodes","defaultDialCode"]),y((0,r.useState)(O),2)),w=E[0],j=E[1],P=y((0,r.useState)(),2),k=P[0],C=P[1],S=function(e){C(e.target.value),t(e)},x=b(),N=function(e){t(e),j(e.target.value)};return r.default.createElement(f.default,null,n.map((function(e,l){return"phone_number"!==e.key?r.default.createElement(r.default.Fragment,{key:e.key},r.default.createElement(o.default,{fullWidth:!0,autoFocus:0===n.findIndex((function(t){return t.key===e.key})),type:e.type,name:e.key,placeholder:p[l],label:a[l],className:x.textField,margin:"normal",onChange:"password"===e.key?S:t}),"password"===e.key&&r.default.createElement(d.default,{pword:k})):r.default.createElement(c.default,{className:x.phoneNumDropdown,fullWidth:!0,key:"phonenum"},r.default.createElement(u.default,{htmlFor:"dial_code",shrink:!0},a[l],e.required?"*":""),r.default.createElement("div",{className:x.phoneNumInner},r.default.createElement(s.default,{value:w,onChange:N,inputProps:{name:"dial_code",id:"dial_code"}},g.map((function(e){return r.default.createElement("option",{key:e,value:e},e)}))),r.default.createElement(o.default,{placeholder:p[l],type:"tel",fullWidth:!0,id:"phone_line_number",key:"phone_line_number",name:"phone_line_number",onChange:t})))})),r.default.createElement(i.default,{disableGutters:!0},r.default.createElement(l.default,{color:"secondary",variant:"outlined",onClick:h},"Back"),r.default.createElement("div",{className:x.spacer}),r.default.createElement(l.default,{className:"enterAction",component:"button",color:"primary",variant:"contained",onClick:m},"Create Account")))};O.propTypes={handleInputChange:a.default.func.isRequired,signUpFields:a.default.array.isRequired,signUpFieldLabels:a.default.array.isRequired,signUpFieldPlaceholders:a.default.array.isRequired,countryDialCodes:a.default.array.isRequired,defaultDialCode:a.default.string.isRequired,handleSignup:a.default.func.isRequired,handleBack:a.default.func.isRequired};var E=O;t.default=E},477:function(e,t,n){"use strict";var r=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.getXML=function(e){return(0,l.default)({url:e,method:"get"}).then((function(e){if(!e.data)throw new Error("Error retrieving XML file");return e.data}))},t.parseProgramXML=function(e){return g.apply(this,arguments)},t.parseProjectXML=function(e){return v.apply(this,arguments)},t.augmentXML=function(e,t){var n=(new c.default.DOMParser).parseFromString(t),r=n.getElementsByTagName("MetaData")[0];n.getElementsByTagName("Warehouse").length>0&&n.removeChild(n.getElementsByTagName("Warehouse")[0]);var a=n.createElement("Warehouse");return Object.keys(e).forEach((function(t){var r=n.createElement("Meta");r.setAttribute("name",t),r.appendChild(n.createTextNode(e[t])),a.appendChild(r)})),n.insertBefore(a,r),(new c.default.XMLSerializer).serializeToString(n)},t.buildRSPath=function(e,t){},t.verifyMeta=function(e,t){var n=e.MetaData,r=t.products[e.ProjectType];if(!r)throw new Error("No project type '".concat(e.ProjectType,"' found in program '").concat(t.name,"'"));return r.pathArr.filter((function(e){return"Collection"===e.type})).map((function(e){return{name:e.def.name,value:n[e.def.name]}}))};var a=n(66),o=n(1221),l=u(n(263)),i=n(501),c=u(n(1259));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,i,"next",e)}function i(e){s(o,r,a,l,i,"throw",e)}l(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return e.reduce((function(e,t){var n=t.val;return p({},e,m({},t.attr.name,n&&n.trim()))}),{})}function g(){return(g=d(r.mark((function e(t){var n,l,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.parseStringPromise)(t).catch((function(e){throw new i.ValidationError("Error parsing XML file. This likely means a broken or unclosed tag.",[e.message])}));case 2:return n=e.sent,(l=a.util.arrToObj(n).Program).MetaData&&(l.MetaData=h(l.MetaData)),l.Definitions={Collections:l.Definitions[0].Collections.map((function(e){return p({},e.attr,{Allow:e.Allow,AllowRegex:e.AllowRegex})})),Groups:l.Definitions[0].Groups.map((function(e){return e.attr})),Products:l.Definitions[0].Products.map((function(e){return e.attr}))},u=(new c.default.DOMParser).parseFromString(t),l.products=y(u,l.Definitions),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){var n=e.getElementsByTagName("Hierarchy")[0],r=Array.from(n.getElementsByTagName("Product")),a={};return r.forEach((function(e){var n=[],r=e.getAttribute("ref"),o=t.Products.find((function(e){return e.id===r}));if(!o)throw new Error("Product not found for ref='".concat(r,"'"));for(var l=e.parentNode,i=function(){var e=l.getAttribute("ref");n.push({type:l.tagName,ref:e,def:t[l.tagName+"s"].find((function(t){return t.id===e}))}),l=l.parentNode};l&&l.parentNode&&"Hierarchy"!==l.tagName;)i();a[o.id]={product:o,path:n.reverse()}})),a}function v(){return(v=d(r.mark((function e(t){var n,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.parseStringPromise)(t).catch((function(e){throw new i.ValidationError("Error parsing XML file. This likely means a broken or unclosed tag.",[e.message])}));case 2:return n=e.sent,(l=a.util.arrToObj(n).Project).Warehouse&&(l.Warehouse=h(l.Warehouse)),l.MetaData&&(l.MetaData=h(l.MetaData)),l.rawXML=t,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},501:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)})(e)}function l(e,t,n){return(l=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a}).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;var u=function(e){function t(e,n){var o,l,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l=this,(o=!(i=c(t).call(this,e))||"object"!==r(i)&&"function"!==typeof i?a(l):i).name=o.constructor.name,o.reasons=n,Error.captureStackTrace(a(o),o.constructor),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),t}(o(Error));t.ValidationError=u},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authCheck=function(e,t){return O(e,t,(0,o.default)(v()),{})},t.validateProject=function(e,t,n,r){return O(e,t,(0,o.default)(y()),{xml:n,program:r})},t.getPrograms=function(e){return O(e,null,(0,o.default)(g())).then((function(e){var t=e.data.programs,n=e.errors;return{data:{programs:t?t.map((function(e){return m({},e,{products:e.products.reduce((function(e,t){return m({},e,h({},t.id,m({},t,{pathArr:JSON.parse(t.pathArr)})))}),{}),meta:JSON.parse(e.meta),hierarchy:JSON.parse(e.hierarchy),definitions:JSON.parse(e.definitions)})})):null},errors:n}}))},t.getProgram=function(e,t){return O(e,null,(0,o.default)(f()),{program:t}).then((function(e){var t=e.data.program,n=e.errors;return{data:{program:t?m({},t,{products:t.products.reduce((function(e,t){return m({},e,h({},t.id,m({},t,{pathArr:JSON.parse(t.pathArr)})))}),{}),meta:JSON.parse(t.meta),hierarchy:JSON.parse(t.hierarchy),definitions:JSON.parse(t.definitions)}):null},errors:n}}))},t.getProject=function(e,t,n,r){return O(e,t,(0,o.default)(d()),{id:n,program:r}).then((function(e){var t=e.data.project,n=e.errors;return{data:{project:t?m({},t,{meta:JSON.parse(t.meta)}):null},errors:n}}))},t.getUploadUrls=function(e,t,n,r,a,l){return O(e,t,(0,o.default)(s()),{id:n,files:r,projectType:a,program:l}).then((function(e){return e}))},t.downloadFile=function(e,t,n,r,a,l){return O(e,t,(0,o.default)(u()),{projType:n,program:r,id:a,filePath:l}).then((function(e){return e}))},t.downloadZipFile=function(e,t,n,r,a){return O(e,t,(0,o.default)(c()),{projType:n,program:r,id:a}).then((function(e){return e}))},t.search=function(e,t,n,r){return O(e,t,(0,o.default)(i()),m({},r,{program:n})).then((function(e){var t=e.data.search,n=e.errors;return{data:{search:t?m({},t,{projects:t.projects.map((function(e){return m({},e,{meta:JSON.parse(e.meta)})}))}):null},errors:n}}))},t.apiCall=void 0;var r=l(n(263)),a=n(1445),o=l(n(1261));function l(e){return e&&e.__esModule?e:{default:e}}function i(){var e=b(["\n      query searchQuery($program: String!, $projType: String, $nameStr: String, $metaStr: String, $metaArr: String, $limit: Int, $nextToken: Int) {\n        search(program: $program, projType: $projType, nameStr: $nameStr, metaStr: $metaStr, metaArr: $metaArr, limit: $limit, nextToken: $nextToken) {\n          projects {\n            id\n            name\n            projType\n            program\n            createdBy\n            updatedBy\n            createdOn\n            updatedOn\n            meta\n            score\n            files {\n              key\n              size\n            }            \n          }\n          nextToken\n          total\n        }\n      }\n  "]);return i=function(){return e},e}function c(){var e=b(["\n    query downloadZipFileQuery(\n      $program: String!, \n      $id: ID!,\n      $projType: String!\n      ) {\n        downloadZip(program: $program, id: $id, projType: $projType) {\n            key\n            md5\n            contentType\n            size\n            downloadUrl          \n            pendingSince\n        }\n      }\n      "]);return c=function(){return e},e}function u(){var e=b(["\n    query downloadFileQuery(\n      $program: String!, \n      $id: ID!,\n      $projType: String!, \n      $filePath: String!, \n      ) {\n        downloadFile(program: $program, id: $id, projType: $projType, filePath: $filePath) {\n            key\n            md5\n            contentType\n            size\n            downloadUrl          \n        }\n      }\n      "]);return u=function(){return e},e}function s(){var e=b(["\n    query requestUploadProject(\n      $id: ID, \n      $files: [String!], \n      $program: String!, \n      $projectType: String!\n      ) {\n        requestUpload(id: $id, files: $files, program: $program, projectType: $projectType) {\n          id\n          uploadUrls {\n            url\n            fields\n            origPath\n          }\n        }\n      }\n      "]);return s=function(){return e},e}function d(){var e=b(["\n    query getProject( $id: ID!, $program: String! ) {\n      project(id: $id, program: $program) {\n          id\n          name\n          projType\n          program\n          createdBy\n          updatedBy\n          createdOn\n          updatedOn\n          meta\n          files {\n            key\n            md5\n            size\n            downloadUrl\n          }\n        }\n      }\n      "]);return d=function(){return e},e}function f(){var e=b(["\n      query program ($program: String!){\n        program(program: $program) {\n          name\n          machineName\n          products {\n            id\n            name\n            folder\n            pathArr\n          }\n          hierarchy\n          meta\n          hierarchy\n          definitions\n        }\n      }\n      "]);return f=function(){return e},e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){var e=b(["\n      query programs {\n        programs{\n          name\n          machineName\n          products {\n            id\n            name\n            folder\n            pathArr\n          }\n          hierarchy\n          meta\n          hierarchy\n          definitions\n        }\n      }\n      "]);return g=function(){return e},e}function y(){var e=b(["\n    query validateProject(\n      $xml: String!, \n      $program: String!, \n      ) {\n        validate(xml: $xml, program: $program) {\n          result\n          xmlErrors\n        }\n      }\n      "]);return y=function(){return e},e}function v(){var e=b(["\n        query AuthCall {\n            auth {\n              loggedIn\n              userPool\n              clientId\n              region\n            }\n          }\n      "]);return v=function(){return e},e}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=function(e,t,n,o){return(0,r.default)({url:e,method:"post",headers:t?{authorization:"Bearer ".concat(t)}:null,data:{query:(0,a.print)(n),variables:o}}).then((function(e){return e.data})).catch((function(r){throw r.response&&404===r.response.status?new Error("API Url not found: ".concat(e)):r.code&&"ECONNREFUSED"===r.code?new Error("Connection refused. Could not contact: '".concat(e,"'")):(console.error({url:e,jwt:t,query:(0,a.print)(n),variables:o}),r)}))};t.apiCall=O},623:function(e,t,n){e.exports=n(1447)},633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),a=s(n(634)),o=s(n(6)),l=n(35),i=s(n(147)),c=s(n(148)),u=s(n(127));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=(0,l.makeStyles)((function(e){return{root:{margin:e.spacing(1)}}})),m=function(e){var t=e.inputRef,n=f(e,["inputRef"]);return r.default.createElement(a.default,d({},n,{ref:function(e){t(e?e.inputElement:null)},mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))};m.propTypes={inputRef:o.default.func.isRequired};var h=function(e){var t=e.label,n=e.handleChange,a=e.value,o=p();return r.default.createElement(u.default,{className:o.root},r.default.createElement(c.default,{htmlFor:"formatted-text-mask-input"},t),r.default.createElement(i.default,{value:a,onChange:function(e){return n(e.target.value)},id:"formatted-text-mask-input",inputComponent:m}))};h.propTypes={label:o.default.string,handleChange:o.default.func.isRequired,value:o.default.string};var g=h;t.default=g},636:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t=v();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}n.default=e,t&&t.set(e,n);return n}(n(0)),a=y(n(6)),o=y(n(98)),l=y(n(34)),i=y(n(55)),c=y(n(360)),u=y(n(361)),s=y(n(89)),d=y(n(637)),f=y(n(347)),p=n(35),m=y(n(116)),h=y(n(97)),g=y(n(177));function y(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=(0,p.makeStyles)(m.default),E=0,w=1,j=function(e){var t=e.onBack,n=(e.hasEmail,e.hasPhone,e.handleSkip,e.handleVerify,e.handleSubmit,e.handleInputChange),a=b((0,r.useState)(!1),2),p=a[0],m=a[1],y=b((0,r.useState)(E),2),v=y[0],j=y[1],P=O();return r.default.createElement(h.default,null,!p&&r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,null,"Verify your Contact"),r.default.createElement(l.default,null,"Account recovery requires verified contact information"),r.default.createElement(c.default,{className:P.switch,indicatorColor:"primary",value:v,onChange:function(e,t){return j(t)},textColor:"primary",centered:!0},r.default.createElement(u.default,{icon:r.default.createElement(f.default,null),label:"Email"}),r.default.createElement(u.default,{icon:r.default.createElement(d.default,null),label:"Phone"})),v===E&&r.default.createElement(o.default,{id:"email",fullWidth:!0,autoFocus:!0,label:"Email Address",className:P.textField,onChange:n,margin:"normal"}),v===w&&r.default.createElement(o.default,{id:"phonenum",fullWidth:!0,autoFocus:!0,label:"Phone Number",className:P.textField,onChange:n,margin:"normal"})),p&&r.default.createElement(o.default,{fullWidth:!0,label:"Code",className:P.textField,placeholder:"Code",key:"code",name:"code",autoComplete:"off",onChange:n,margin:"normal"}),p&&r.default.createElement(o.default,{id:"newpassword",fullWidth:!0,label:"New Password",className:P.textField,type:"password",autoComplete:"current-password",margin:"normal"}),r.default.createElement(s.default,{disableGutters:!0},r.default.createElement(i.default,{color:"secondary",variant:"outlined",onClick:function(){p?m(!1):t()}},"Back"),r.default.createElement("div",{className:P.spacer}),r.default.createElement(i.default,{className:"enterAction",color:"primary",variant:"contained",onClick:function(){return m(!0)}},"Send Code")),r.default.createElement(g.default,{open:p,onResend:function(){return m(!0)}}))};j.defaultProps={hasEmail:!0},j.propTypes={onBack:a.default.func,hasEmail:a.default.bool,hasPhone:a.default.bool,handleInputChange:a.default.func.isRequired,handleSkip:a.default.func.isRequired,handleVerify:a.default.func.isRequired,handleSubmit:a.default.func.isRequired};var P=j;t.default=P},638:function(e,t,n){"use strict";var r=n(80);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=v(n(0)),o=v(n(639)),l=n(12),i=g(n(267)),c=n(1172),u=g(n(358)),s=g(n(348)),d=g(n(357)),f=g(n(359)),p=g(n(353)),m=g(n(351)),h=g(n(352));function g(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function v(e){if(e&&e.__esModule)return e;var t=y();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}}return n.default=e,t&&t.set(e,n),n}function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function C(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T={authState:"init",authData:{},signedIn:null},A={header:"My Customized Sign Up",hiddenDefaults:["username","email","phone_number","password"],defaultCountryCode:"1",signUpFields:[{label:"My user name",key:"username",required:!0,displayOrder:1,type:"string"},{label:"Password",key:"password",required:!0,displayOrder:3,type:"password"},{label:"Email",key:"email",required:!0,displayOrder:2,type:"string"}]},D=function(e){var t=I((0,a.useState)(T),2),n=t[0],l=n.authState,i=n.authData,u=n.signedIn,s=t[1];o.default.configure(e);var d=function(){var e,t=(e=r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Auth.currentSession();case 2:return t=e.sent,e.abrupt("return",t&&t.accessToken?t.accessToken:null);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){_(o,r,a,l,i,"next",e)}function i(e){_(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}(),f=u?null:a.default.createElement(c.Authenticator,{onStateChange:function(e,t){s({authState:e,authData:t,signedIn:e&&0!==e.length?"signedIn"===e||u:null})},hideDefault:!0,signUpConfig:A},a.default.createElement(M,{handleBeAnonymous:function(){s({authState:l,authData:i,signedIn:!1})}}),a.default.createElement(q,{message:"Logging in"}),a.default.createElement(c.RequireNewPassword,null),a.default.createElement(F,null),a.default.createElement(L,null),a.default.createElement(c.VerifyContact,null),a.default.createElement(W,null),a.default.createElement(R,{signUpConfig:A})),p=!1;try{p=i.signInUserSession.idToken.payload["cognito:groups"].indexOf("GodUsers")>-1}catch(m){}return{authState:l,authData:i,isGod:p,signOut:function(){return o.Auth.signOut().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},getCurrentToken:d,forceSignIn:function(){return s(T)},signedIn:u,authScreen:f}};t.default=D;var M=function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}return x(t,e),k(t,[{key:"showComponent",value:function(){var e=this,t=this.state.loading,n=E({},this.props,{loading:t,handleForgotPassword:function(){return e.changeState("forgotPassword")},handleSignup:function(){return e.changeState("signUp")},handleInputChange:this.handleInputChange,handleSignIn:this.signIn});return a.default.createElement(u.default,n)}}]),t}(c.SignIn),R=function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}return x(t,e),k(t,[{key:"showComponent",value:function(){var e=this,n=this.props.hide;if(n&&n.includes(t))return null;this.checkCustomSignUpFields()&&(this.signUpFields=this.props.signUpConfig.signUpFields),this.sortFields();var r=E({},this.props,{countryDialCodes:i.default,defaultDialCode:this.getDefaultDialCode(),handleInputChange:this.handleInputChange,signUpFields:this.signUpFields,signUpFieldLabels:this.signUpFields.map((function(e){return l.I18n.get(e.label)})),signUpFieldPlaceholders:this.signUpFields.map((function(e){return l.I18n.get(e.placeholder)})),handleSignup:this.signUp,handleBack:function(){return e.changeState("signIn")}});return a.default.createElement(f.default,r)}}]),t}(c.SignUp),F=function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}return x(t,e),k(t,[{key:"showComponent",value:function(){var e=this,t=E({},this.props,{handleBack:function(){return e.changeState("signIn")},handleInputChange:this.handleInputChange,handleConfirm:this.confirm});return a.default.createElement(s.default,t)}}]),t}(c.ConfirmSignIn),L=function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}return x(t,e),k(t,[{key:"showComponent",value:function(){var e=this,t=E({},this.props,{handleBack:function(){return e.changeState("signIn")},handleInputChange:this.handleInputChange,handleConfirm:this.confirm,handleResend:this.resend});return a.default.createElement(m.default,t)}}]),t}(c.ConfirmSignUp),q=(function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}x(t,e),k(t,[{key:"showComponent",value:function(){var e=this.props.authData.challengeParam.requiredAttributes,t=Array.isArray(e)?e.map((function(e){return l.I18n.get(e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" "))})):[],n=E({},this.props,{handleInputChange:this.handleInputChange,requiredAttributes:e,placeholders:t,change:this.change});return a.default.createElement(d.default,n)}}])}(c.RequireNewPassword),function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}return x(t,e),k(t,[{key:"showComponent",value:function(){return a.default.createElement(p.default,this.props)}}]),t}(c.Loading)),W=function(e){function t(){return j(this,t),C(this,S(t).apply(this,arguments))}return x(t,e),k(t,[{key:"showComponent",value:function(){var e=this,t=E({},this.props,{handleBack:function(){return e.changeState("signIn")},handleInputChange:this.handleInputChange,handleConfirm:this.confirm,handleResend:this.send,handleSubmit:this.submit,handleSendCode:this.send});return a.default.createElement(h.default,t)}}]),t}(c.ForgotPassword)},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectHelpers=t.misc=t.api=t.xml=t.util=void 0;var r=n(1201);t.util=r;var a=n(477);t.xml=a;var o=n(503);t.api=o;var l=n(1262);t.misc=l;var i=n(1441);t.projectHelpers=i},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),a=u(n(6)),o=u(n(34)),l=u(n(340)),i=n(35),c=u(n(343));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.makeStyles)((function(e){return{root:{height:"100%"},bgSwoosh:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0},spacer:{flex:"1 1"},logo:{},logoInner:{height:100,width:100},inner:{margin:"0 auto",width:"100%",height:"100%",minWidth:200,maxWidth:300,display:"flex",flexDirection:"column",textAlign:"center"}}})),d=function(e){var t=e.children,n=(0,c.default)(),a=s();return r.default.createElement("div",{ref:n,className:a.root},r.default.createElement(l.default,null),r.default.createElement("div",{className:a.inner},r.default.createElement("div",{className:a.spacer}),r.default.createElement("div",{className:a.logo},r.default.createElement("img",{className:a.logoInner,src:"/riverscapes/RiverscapesLogo.png",alt:"logo"})),r.default.createElement(o.default,{component:"div",variant:"h5"},"Riverscapes Warehouse Explorer"),r.default.createElement(o.default,{component:"div",variant:"caption"}),t,r.default.createElement("div",{className:a.spacer})))};d.propTypes={children:a.default.any};var f=d;t.default=f}},[[623,1,2]]]);
//# sourceMappingURL=main.47c32e25.chunk.js.map